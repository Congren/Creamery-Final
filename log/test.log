  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should belong to store. 
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------------------------------
StoreFlavorTest: test_: Creating a context for store_flavors should identify a non-active or non-existent store as part of an invalid store flavor. 
----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.4ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5721252935"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7010656540"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.1ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------------------------------
StoreFlavorTest: test_: Creating a context for store_flavors should identify a non-active or non-existent flavor as part of an invalid store flavor. 
-----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5007826562"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7421247308"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Chocolate"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name", "active") VALUES (?, ?)  [["name", "Vanilla"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Strawberry"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Mint Chocolate Chip"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mFlavor Load (0.0ms)[0m  [1mSELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mFlavor Load (0.0ms)[0m  [1mSELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should require store_id to be set. 
-----------------------------------------------------------------------
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should require flavor_id to be set. 
------------------------------------------------------------------------
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should belong to flavor. 
-------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there are three active jobs. 
-------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there are four jobs in in alphabetical order. 
------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs"  ORDER BY "jobs"."name" ASC[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there is one inactive job. 
-----------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "jobs" WHERE "jobs"."active" = ?  [["active", "f"]]
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "f"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
JobTest: test_: Job should have many shifts through shift_jobs. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should make an undestroyable job inactive. 
---------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '027333441' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "027333441"], ["date_of_birth", "1997-05-02"], ["phone", "2912308370"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1613162504"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '356044549' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "356044549"], ["date_of_birth", "2000-05-02"], ["phone", "4144727611"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '162431493' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "162431493"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '000659546' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "000659546"], ["date_of_birth", "1986-05-02"], ["phone", "4872575167"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '231484359' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "231484359"], ["date_of_birth", "1997-05-02"], ["phone", "8072609421"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9528755376"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5002254499"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.4ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShiftJob Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."job_id" = ? LIMIT 1[0m  [["job_id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "jobs" SET "active" = ? WHERE "jobs"."id" = ?  [["active", "f"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mJob Load (0.2ms)[0m  SELECT  "jobs".* FROM "jobs" WHERE "jobs"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
JobTest: test_: Job should have many shift_jobs. 
-------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
JobTest: test_: Job should require name to be set. 
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should correctly assess when a job is destroyable. 
-----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '178197688' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178197688"], ["date_of_birth", "1997-05-02"], ["phone", "0998250686"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9246630267"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '149240481' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "149240481"], ["date_of_birth", "2000-05-02"], ["phone", "2194454510"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '016375721' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "016375721"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '358901358' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "358901358"], ["date_of_birth", "1986-05-02"], ["phone", "2723449298"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '181534022' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "181534022"], ["date_of_birth", "1997-05-02"], ["phone", "9538220979"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5192954065"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8690239928"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.4ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 11], ["job_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShiftJob Exists (0.1ms)[0m  SELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."job_id" = ? LIMIT 1  [["job_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
AssignmentsControllerTest: test_should_create_a_new_assignment
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '091742895' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091742895"], ["date_of_birth", "1997-05-02"], ["phone", "1172796266"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3132622453"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '191720844' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "191720844"], ["date_of_birth", "2000-05-02"], ["phone", "9990751959"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '248932311' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "248932311"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '091315451' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "091315451"], ["date_of_birth", "1986-05-02"], ["phone", "6394593926"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '126039304' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "126039304"], ["date_of_birth", "1997-05-02"], ["phone", "5455341197"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5632664807"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7606193563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments"[0m
Processing by AssignmentsController#create as HTML
  Parameters: {"assignment"=>{"employee_id"=>"4", "store_id"=>"1", "start_date"=>"2016-05-02", "pay_level"=>"5"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("employee_id", "store_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["employee_id", 4], ["store_id", 1], ["start_date", "2016-05-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://test.host/assignments
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments"[0m
Processing by AssignmentsController#create as HTML
  Parameters: {"assignment"=>{"employee_id"=>nil, "store_id"=>"1", "start_date"=>"2016-05-02", "pay_level"=>"5"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (62.1ms)
  Rendered partials/_display_form.html.erb (63.8ms)
  Rendered assignments/new.html.erb within layouts/application (70.2ms)
  Rendered partials/_nav.html.erb (1.6ms)
  Rendered partials/_flash.html.erb (0.7ms)
  Rendered partials/_footer.html.erb (1.2ms)
Completed 200 OK in 1974ms (Views: 1970.0ms | ActiveRecord: 0.6ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
AssignmentsControllerTest: test_should_get_index
------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350545756' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350545756"], ["date_of_birth", "1997-05-02"], ["phone", "8997912736"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4175844806"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247447652' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "247447652"], ["date_of_birth", "2000-05-02"], ["phone", "3788608032"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '021173351' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "021173351"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '100235817' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "100235817"], ["date_of_birth", "1986-05-02"], ["phone", "7989132078"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '302455741' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "302455741"], ["date_of_birth", "1997-05-02"], ["phone", "5271063161"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5971026517"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0065020065"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AssignmentsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered assignments/_assignment_list.html.erb (6.7ms)
  Rendered assignments/_current_assignments.html.erb (11.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  Rendered assignments/_assignment_list.html.erb (3.8ms)
  Rendered assignments/_past_assignments.html.erb (6.6ms)
  Rendered partials/_index_structure_2.html.erb (21.0ms)
  Rendered assignments/index.html.erb within layouts/application (26.2ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 1.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AssignmentsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '094238104' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "094238104"], ["date_of_birth", "1997-05-02"], ["phone", "0567786518"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4324061832"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '073818754' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "073818754"], ["date_of_birth", "2000-05-02"], ["phone", "7093629770"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '140948374' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "140948374"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '160259065' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "160259065"], ["date_of_birth", "1986-05-02"], ["phone", "2680468881"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '289336694' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "289336694"], ["date_of_birth", "1997-05-02"], ["phone", "2532435299"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7701974468"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1147832807"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name  [["active", "t"]]
  Rendered assignments/_form.html.erb (6.7ms)
  Rendered partials/_display_form.html.erb (6.9ms)
  Rendered assignments/edit.html.erb within layouts/application (7.3ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
AssignmentsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222078127' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222078127"], ["date_of_birth", "1997-05-02"], ["phone", "0425545853"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4454593572"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '109013148' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "109013148"], ["date_of_birth", "2000-05-02"], ["phone", "2868360682"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '164503785' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "164503785"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '049498974' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "049498974"], ["date_of_birth", "1986-05-02"], ["phone", "0758591616"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '069994920' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "069994920"], ["date_of_birth", "1997-05-02"], ["phone", "2499195845"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6457538920"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9296947843"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#new as HTML
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (7.0ms)
  Rendered partials/_display_form.html.erb (7.2ms)
  Rendered assignments/new.html.erb within layouts/application (7.3ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AssignmentsControllerTest: test_should_destroy_assignment
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '312283766' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "312283766"], ["date_of_birth", "1997-05-02"], ["phone", "8728993421"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0136374326"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '232479151' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "232479151"], ["date_of_birth", "2000-05-02"], ["phone", "6698229397"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '232160430' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "232160430"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '223863651' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "223863651"], ["date_of_birth", "1986-05-02"], ["phone", "0893208908"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '005505162' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "005505162"], ["date_of_birth", "1997-05-02"], ["phone", "6288344913"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4560394795"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6570352460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments"[0m
Processing by AssignmentsController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[35mAssignment Load (0.0ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')  [["assignment_id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://test.host/assignments
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments"[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
AssignmentsControllerTest: test_should_update_an_assignment
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '039150405' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "039150405"], ["date_of_birth", "1997-05-02"], ["phone", "5771170570"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7239257963"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '101329137' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "101329137"], ["date_of_birth", "2000-05-02"], ["phone", "9254693884"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '252982532' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "252982532"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '249195615' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "249195615"], ["date_of_birth", "1986-05-02"], ["phone", "5678174117"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '342801742' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "342801742"], ["date_of_birth", "1997-05-02"], ["phone", "2370501688"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2726841911"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4086603727"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by AssignmentsController#update as HTML
  Parameters: {"assignment"=>{"employee_id"=>"4", "store_id"=>"3", "start_date"=>"2015-11-02", "pay_level"=>"5"}, "id"=>"3"}
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "pay_level" = ? WHERE "assignments"."id" = ?[0m  [["pay_level", 5], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://test.host/assignments
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Processing by AssignmentsController#update as HTML
  Parameters: {"assignment"=>{"employee_id"=>nil, "store_id"=>"3", "start_date"=>"2015-11-02", "pay_level"=>"4"}, "id"=>"3"}
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (7.4ms)
  Rendered partials/_display_form.html.erb (7.5ms)
  Rendered assignments/edit.html.erb within layouts/application (7.7ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.3ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for completed shifts. 
------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8562321352"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2724499854"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '366679094' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "366679094"], ["date_of_birth", "1997-05-02"], ["phone", "4729111226"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2005208969"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '214755145' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "214755145"], ["date_of_birth", "2000-05-02"], ["phone", "2855788179"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '145579355' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "145579355"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '208060284' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "208060284"], ["date_of_birth", "1986-05-02"], ["phone", "8458632561"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '311416589' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "311416589"], ["date_of_birth", "1997-05-02"], ["phone", "1640765685"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "shift_jobs" ON "shift_jobs"."shift_id" = "shifts"."id" GROUP BY "shift_id"
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should only accept date data for date field. 
---------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3006772778"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8132742673"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '107412390' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "107412390"], ["date_of_birth", "1997-05-02"], ["phone", "0214150230"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1779215267"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '072462863' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "072462863"], ["date_of_birth", "2000-05-02"], ["phone", "8568617430"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '169629673' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "169629673"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044182279' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "044182279"], ["date_of_birth", "1986-05-02"], ["phone", "0073361297"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '257298606' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "257298606"], ["date_of_birth", "1997-05-02"], ["phone", "0481950535"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift dates do not precede the assignment start date. 
-------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1174091523"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2437540537"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '192812098' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192812098"], ["date_of_birth", "1997-05-02"], ["phone", "7808378473"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2135574607"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079554875' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "079554875"], ["date_of_birth", "2000-05-02"], ["phone", "3131239403"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '089828859' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "089828859"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '217605049' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "217605049"], ["date_of_birth", "1986-05-02"], ["phone", "3063204494"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '382973646' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "382973646"], ["date_of_birth", "1997-05-02"], ["phone", "4259427186"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (1.2ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
ShiftTest: test_: Shift should belong to assignment. 
-----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_past_days. 
------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9428546986"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5604043297"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '305351016' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "305351016"], ["date_of_birth", "1997-05-02"], ["phone", "6689899973"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9664322791"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '169615115' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "169615115"], ["date_of_birth", "2000-05-02"], ["phone", "9570841273"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '003759690' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "003759690"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '279884002' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "279884002"], ["date_of_birth", "1986-05-02"], ["phone", "6097223568"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '088280442' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "088280442"], ["date_of_birth", "1997-05-02"], ["phone", "8387919459"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-01' AND '2016-05-01')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-04-30' AND '2016-05-01')[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-04-29' AND '2016-05-01')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a callback which sets end time to three hours on create, but not on update. 
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8489227071"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8289546226"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '307787228' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "307787228"], ["date_of_birth", "1997-05-02"], ["phone", "2425366434"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4836991986"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '238696659' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "238696659"], ["date_of_birth", "2000-05-02"], ["phone", "5157339125"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '005298562' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "005298562"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '145467044' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "145467044"], ["date_of_birth", "1986-05-02"], ["phone", "9914281140"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '131453782' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "131453782"], ["date_of_birth", "1997-05-02"], ["phone", "5954717352"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "notes", "end_time") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2000-01-01 19:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."], ["end_time", "2000-01-01 22:00:00.000000"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "shifts" SET "notes" = ?, "start_time" = ? WHERE "shifts"."id" = ?[0m  [["notes", "She did a good job today."], ["start_time", "2000-01-01 17:00:00.000000"], ["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_employee. 
-----------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6530244967"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2739381701"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '216999306' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "216999306"], ["date_of_birth", "1997-05-02"], ["phone", "6194644291"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9703493297"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '296901458' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "296901458"], ["date_of_birth", "2000-05-02"], ["phone", "0330830725"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '077377254' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "077377254"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '164526991' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "164526991"], ["date_of_birth", "1986-05-02"], ["phone", "9011536816"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '365360333' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "365360333"], ["date_of_birth", "1997-05-02"], ["phone", "3751269220"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 4)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5)[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to nil. 
----------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------
ShiftTest: test_: Shift should have many shift_jobs. 
-----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have start_now method that updates database. 
----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7676688923"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3349313872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '226782797' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "226782797"], ["date_of_birth", "1997-05-02"], ["phone", "5789340033"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5520252510"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '152908763' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "152908763"], ["date_of_birth", "2000-05-02"], ["phone", "7461118901"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '276173197' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "276173197"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '183809079' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "183809079"], ["date_of_birth", "1986-05-02"], ["phone", "3993006922"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '081559569' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "081559569"], ["date_of_birth", "1997-05-02"], ["phone", "3577676164"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "start_time" = ? WHERE "shifts"."id" = ?[0m  [["start_time", "2016-05-02 15:36:08.312142"], ["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT  "shifts".* FROM "shifts" WHERE "shifts"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a class method for find not completed shifts. 
----------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7856832175"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9980133006"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '313738241' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "313738241"], ["date_of_birth", "1997-05-02"], ["phone", "5685617919"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2733692729"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234079416' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "234079416"], ["date_of_birth", "2000-05-02"], ["phone", "3747739951"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '139146975' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "139146975"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '348587417' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "348587417"], ["date_of_birth", "1986-05-02"], ["phone", "8975316740"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '136947163' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "136947163"], ["date_of_birth", "1997-05-02"], ["phone", "2358253298"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 11], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "shift_jobs" ON "shift_jobs"."shift_id" = "shifts"."id" GROUP BY "shift_id"
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
ShiftTest: test_: Shift should have one store through assignment. 
------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to Mon, 02 May 2016 09:36:04 EDT -04:00. 
---------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for upcoming shifts. 
-----------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0360959668"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8292936298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '057803019' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057803019"], ["date_of_birth", "1997-05-02"], ["phone", "9544023053"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3456823887"], ["role", "employee"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '281618151' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "281618151"], ["date_of_birth", "2000-05-02"], ["phone", "6500197808"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '065891792' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "065891792"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '274590075' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "274590075"], ["date_of_birth", "1986-05-02"], ["phone", "8923859053"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '364392750' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "364392750"], ["date_of_birth", "1997-05-02"], ["phone", "2971698413"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date >= '2016-05-02')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for past shifts. 
-------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0470253081"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6129646495"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '370943912' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370943912"], ["date_of_birth", "1997-05-02"], ["phone", "5472991661"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7300852648"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '269726785' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "269726785"], ["date_of_birth", "2000-05-02"], ["phone", "3416797747"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '041947224' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "041947224"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '182373209' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "182373209"], ["date_of_birth", "1986-05-02"], ["phone", "4519659828"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '346339990' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "346339990"], ["date_of_birth", "1997-05-02"], ["phone", "5105115112"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date < '2016-05-02')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to 2016-05-02 11:36:04 -0400. 
----------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift are only given to current assignments. 
----------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9992201727"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8455747944"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '069038501' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "069038501"], ["date_of_birth", "1997-05-02"], ["phone", "9117836812"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2114521325"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '136014452' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "136014452"], ["date_of_birth", "2000-05-02"], ["phone", "0628407354"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '373815121' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "373815121"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '124496611' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "124496611"], ["date_of_birth", "1986-05-02"], ["phone", "9696227933"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '067763350' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "067763350"], ["date_of_birth", "1997-05-02"], ["phone", "3599334084"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_store. 
--------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2852690927"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5602462209"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222900557' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222900557"], ["date_of_birth", "1997-05-02"], ["phone", "6712882213"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2569830198"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '198867148' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "198867148"], ["date_of_birth", "2000-05-02"], ["phone", "0282555626"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '149738329' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "149738329"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '055809235' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "055809235"], ["date_of_birth", "1986-05-02"], ["phone", "7936152758"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '255974957' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "255974957"], ["date_of_birth", "1997-05-02"], ["phone", "2184397657"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id" WHERE (assignments.store_id = 3)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id" WHERE (assignments.store_id = 1)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have end_now method that updates database. 
--------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3798457982"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0269278243"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '377371798' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "377371798"], ["date_of_birth", "1997-05-02"], ["phone", "0686317613"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5645488607"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '177322720' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "177322720"], ["date_of_birth", "2000-05-02"], ["phone", "4811280623"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '220431153' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "220431153"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044967261' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "044967261"], ["date_of_birth", "1986-05-02"], ["phone", "9883777416"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '307325287' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "307325287"], ["date_of_birth", "1997-05-02"], ["phone", "5777118909"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "end_time" = ? WHERE "shifts"."id" = ?[0m  [["end_time", "2016-05-02 15:36:08.905713"], ["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT  "shifts".* FROM "shifts" WHERE "shifts"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order chronologically. 
----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8270052141"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6669845480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '007488597' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "007488597"], ["date_of_birth", "1997-05-02"], ["phone", "3839110494"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1188631817"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119099816' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "119099816"], ["date_of_birth", "2000-05-02"], ["phone", "0610711867"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '256125062' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "256125062"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326658615' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "326658615"], ["date_of_birth", "1986-05-02"], ["phone", "9169465468"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '062181995' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "062181995"], ["date_of_birth", "1997-05-02"], ["phone", "8220414961"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"  ORDER BY "shifts"."date" ASC, "shifts"."start_time" ASC
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift end times do not precede the shift start time. 
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1866275787"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1731633648"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '324730676' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "324730676"], ["date_of_birth", "1997-05-02"], ["phone", "4128477019"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5988822169"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '274897528' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "274897528"], ["date_of_birth", "2000-05-02"], ["phone", "0815591351"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '191842020' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "191842020"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253036755' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "253036755"], ["date_of_birth", "1986-05-02"], ["phone", "3551763612"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381201313' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "381201313"], ["date_of_birth", "1997-05-02"], ["phone", "7219603269"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to "fred". 
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should correctly calculate the duration of a shift. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4950547236"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8913111685"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '016984770' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "016984770"], ["date_of_birth", "1997-05-02"], ["phone", "7950969132"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1893552513"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '097081588' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "097081588"], ["date_of_birth", "2000-05-02"], ["phone", "6143795648"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '184837146' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "184837146"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '293006516' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "293006516"], ["date_of_birth", "1986-05-02"], ["phone", "8093977823"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '307553154' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "307553154"], ["date_of_birth", "1997-05-02"], ["phone", "9010428583"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to Mon, 02 May 2016 12:36:04 EDT -04:00. 
---------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ShiftTest: test_: Shift should have many jobs through shift_jobs. 
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should allow end time can be nil. 
----------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0606016541"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4826507226"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '385800740' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385800740"], ["date_of_birth", "1997-05-02"], ["phone", "6155059034"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5064901817"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '283233335' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "283233335"], ["date_of_birth", "2000-05-02"], ["phone", "7579332239"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '150247487' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "150247487"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '385239850' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "385239850"], ["date_of_birth", "1986-05-02"], ["phone", "6859002194"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '122576042' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "122576042"], ["date_of_birth", "1997-05-02"], ["phone", "2316643511"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to 3.14159. 
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order by employee name. 
-----------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5569198271"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8830881602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '109656256' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109656256"], ["date_of_birth", "1997-05-02"], ["phone", "4829015592"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0223749840"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '200379629' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "200379629"], ["date_of_birth", "2000-05-02"], ["phone", "3769688677"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '046962179' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "046962179"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '077362505' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "077362505"], ["date_of_birth", "1986-05-02"], ["phone", "1488513537"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '130799351' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "130799351"], ["date_of_birth", "1997-05-02"], ["phone", "5481314186"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id"  ORDER BY employees.last_name, employees.first_name[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should only accept time data for end time. 
-------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7237204033"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9564960851"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '204437741' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204437741"], ["date_of_birth", "1997-05-02"], ["phone", "5392938514"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5850489413"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '138942101' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "138942101"], ["date_of_birth", "2000-05-02"], ["phone", "2162895817"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '355493562' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "355493562"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024053023' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "024053023"], ["date_of_birth", "1986-05-02"], ["phone", "1508372641"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '241901760' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "241901760"], ["date_of_birth", "1997-05-02"], ["phone", "2675052828"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_next_days. 
------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7669364714"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6361768152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '077710711' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077710711"], ["date_of_birth", "1997-05-02"], ["phone", "3448865179"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3429977178"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166936195' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "166936195"], ["date_of_birth", "2000-05-02"], ["phone", "2262558882"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '212925703' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "212925703"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '378007034' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "378007034"], ["date_of_birth", "1986-05-02"], ["phone", "6092740038"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '240340514' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "240340514"], ["date_of_birth", "1997-05-02"], ["phone", "1940188281"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-02' AND '2016-05-02')
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-02' AND '2016-05-04')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a completed? method that works properly. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4117975828"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5681412248"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '201103528' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "201103528"], ["date_of_birth", "1997-05-02"], ["phone", "4750564070"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5362646998"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '203699484' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "203699484"], ["date_of_birth", "2000-05-02"], ["phone", "8349202555"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '181267871' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "181267871"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '338791427' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "338791427"], ["date_of_birth", "1986-05-02"], ["phone", "7784134455"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '156170806' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "156170806"], ["date_of_birth", "1997-05-02"], ["phone", "5374385546"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 11], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShiftJob Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ? LIMIT 1[0m  [["shift_id", 8]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?  [["shift_id", 8]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?[0m  [["shift_id", 9]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?  [["shift_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should not allow date to be nil. 
---------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5100293209"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8911752920"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '116409271' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116409271"], ["date_of_birth", "1997-05-02"], ["phone", "3732716108"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3021826322"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '071368530' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "071368530"], ["date_of_birth", "2000-05-02"], ["phone", "8149847825"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '212952067' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "212952067"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '191867983' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "191867983"], ["date_of_birth", "1986-05-02"], ["phone", "6353992820"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '158065968' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "158065968"], ["date_of_birth", "1997-05-02"], ["phone", "2228538351"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order by store name. 
--------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4808663008"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9204292190"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '273614734' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "273614734"], ["date_of_birth", "1997-05-02"], ["phone", "4582916664"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6857272577"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '088863870' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "088863870"], ["date_of_birth", "2000-05-02"], ["phone", "3618169825"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '001488298' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "001488298"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '313773202' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "313773202"], ["date_of_birth", "1986-05-02"], ["phone", "5590470754"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '225009792' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "225009792"], ["date_of_birth", "1997-05-02"], ["phone", "9964149096"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id"  ORDER BY stores.name
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for incomplete shifts. 
-------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7121995072"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3726290829"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '197468979' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "197468979"], ["date_of_birth", "1997-05-02"], ["phone", "3279934765"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4322039522"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '354509156' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "354509156"], ["date_of_birth", "2000-05-02"], ["phone", "4547203073"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '054524629' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "054524629"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '309810052' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "309810052"], ["date_of_birth", "1986-05-02"], ["phone", "2935715480"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '285741504' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "285741504"], ["date_of_birth", "1997-05-02"], ["phone", "7698402652"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" LEFT JOIN shift_jobs ON shifts.id = shift_jobs.shift_id WHERE (shift_jobs.job_id IS NULL)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
ShiftTest: test_: Shift should have one employee through assignment. 
---------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there is one inactive flavor. 
--------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "f"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "f"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should make an undestroyed flavor inactive. 
----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "flavors" SET "active" = ? WHERE "flavors"."id" = ?  [["active", "f"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFlavor Load (0.1ms)[0m  SELECT  "flavors".* FROM "flavors" WHERE "flavors"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should correctly assess that flavors are not destroyable. 
------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "flavors" SET "active" = ? WHERE "flavors"."id" = ?  [["active", "f"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
FlavorTest: test_: Flavor should have many store_flavors. 
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
FlavorTest: test_: Flavor should have many stores through store_flavors. 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there are four flavors in in alphabetical order. 
---------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Chocolate"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "flavors" ("name", "active") VALUES (?, ?)  [["name", "Vanilla"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Strawberry"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Mint Chocolate Chip"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFlavor Load (0.1ms)[0m  SELECT "flavors".* FROM "flavors"  ORDER BY "flavors"."name" ASC
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there are three active flavors. 
----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------
FlavorTest: test_: Flavor should require name to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
EmployeesControllerTest: test_should_show_employee_and_assingment_history
-------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247870974' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "247870974"], ["date_of_birth", "1997-05-02"], ["phone", "6712032003"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3244813397"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '189908670' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "189908670"], ["date_of_birth", "2000-05-02"], ["phone", "5627566472"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '073622840' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "073622840"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '048185128' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "048185128"], ["date_of_birth", "1986-05-02"], ["phone", "3091664948"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '231774923' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "231774923"], ["date_of_birth", "1997-05-02"], ["phone", "5055463000"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1620037780"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6538907737"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  Rendered employees/_employee_details.html.erb (4.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0  [["employee_id", 4]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  Rendered employees/_assignment_history.html.erb (2.5ms)
  Rendered partials/_object_options.html.erb (1.3ms)
  Rendered employees/show.html.erb within layouts/application (12.6ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.4ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
EmployeesControllerTest: test_should_destroy_employee
-----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371520372' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "371520372"], ["date_of_birth", "1997-05-02"], ["phone", "9513063436"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0314791587"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '142286966' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "142286966"], ["date_of_birth", "2000-05-02"], ["phone", "6145627542"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '142869555' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "142869555"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '331003578' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "331003578"], ["date_of_birth", "1986-05-02"], ["phone", "4219098919"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '045465106' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "045465106"], ["date_of_birth", "1997-05-02"], ["phone", "6486443509"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."employee_id" = ? LIMIT 1[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/employees
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees"
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
EmployeesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '088909889' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088909889"], ["date_of_birth", "1997-05-02"], ["phone", "2424417160"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5258588180"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '337445455' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "337445455"], ["date_of_birth", "2000-05-02"], ["phone", "2893521559"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '241220332' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "241220332"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '032487767' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "032487767"], ["date_of_birth", "1986-05-02"], ["phone", "5656560781"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '013410788' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "013410788"], ["date_of_birth", "1997-05-02"], ["phone", "9466940242"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_form.html.erb (16.7ms)
  Rendered partials/_display_form.html.erb (17.9ms)
  Rendered employees/edit.html.erb within layouts/application (18.3ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 22ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
EmployeesControllerTest: test_should_create_a_new_employee
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '115639444' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "115639444"], ["date_of_birth", "1997-05-02"], ["phone", "7474469273"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8044483361"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084645450' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "084645450"], ["date_of_birth", "2000-05-02"], ["phone", "0406776575"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '173179132' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "173179132"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079670176' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "079670176"], ["date_of_birth", "1986-05-02"], ["phone", "1382678851"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '204776473' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "204776473"], ["date_of_birth", "1997-05-02"], ["phone", "9888874615"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees"
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"active"=>true, "first_name"=>"Jake", "last_name"=>"Sisko", "role"=>"employee", "ssn"=>"010101010", "date_of_birth"=>"1997-05-02"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '010101010' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Sisko"], ["ssn", "010101010"], ["date_of_birth", "1997-05-02"], ["role", "employee"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/employees/7
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"active"=>true, "last_name"=>"Sisko", "role"=>"employee", "ssn"=>"0101", "date_of_birth"=>"1997-05-02"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '0101' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered employees/_form.html.erb (8.9ms)
  Rendered partials/_display_form.html.erb (9.0ms)
  Rendered employees/new.html.erb within layouts/application (9.5ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
EmployeesControllerTest: test_should_update_an_employee
-------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '011886926' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011886926"], ["date_of_birth", "1997-05-02"], ["phone", "4528882642"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2164798955"], ["role", "employee"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '369065956' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "369065956"], ["date_of_birth", "2000-05-02"], ["phone", "9331912287"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '040351813' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "040351813"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '000018519' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "000018519"], ["date_of_birth", "1986-05-02"], ["phone", "5083144299"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '096655435' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "096655435"], ["date_of_birth", "1997-05-02"], ["phone", "9650830769"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"active"=>true, "first_name"=>"Ben", "last_name"=>"Sisko", "role"=>"manager", "ssn"=>"040351813", "date_of_birth"=>"1967-05-02"}, "id"=>"4"}
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE ("employees"."ssn" = '040351813' AND "employees"."id" != 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "employees" SET "date_of_birth" = ? WHERE "employees"."id" = ?  [["date_of_birth", "1967-05-02"], ["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/employees/4
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"active"=>true, "first_name"=>nil, "last_name"=>"Sisko", "role"=>"manager", "ssn"=>"040351813", "date_of_birth"=>"1967-05-02"}, "id"=>"4"}
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE ("employees"."ssn" = '040351813' AND "employees"."id" != 4) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered employees/_form.html.erb (22.4ms)
  Rendered partials/_display_form.html.erb (22.5ms)
  Rendered employees/edit.html.erb within layouts/application (22.7ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.2ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '288478573' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "288478573"], ["date_of_birth", "1997-05-02"], ["phone", "9318957020"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6213702819"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '041676861' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "041676861"], ["date_of_birth", "2000-05-02"], ["phone", "8033680549"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '130653814' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "130653814"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '016722227' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "016722227"], ["date_of_birth", "1986-05-02"], ["phone", "3961401285"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '029217406' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "029217406"], ["date_of_birth", "1997-05-02"], ["phone", "5921438127"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#new as HTML
  Rendered employees/_form.html.erb (7.2ms)
  Rendered partials/_display_form.html.erb (7.3ms)
  Rendered employees/new.html.erb within layouts/application (7.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
EmployeesControllerTest: test_should_get_index
----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '375734867' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375734867"], ["date_of_birth", "1997-05-02"], ["phone", "2803285217"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6015376546"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '335662765' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "335662765"], ["date_of_birth", "2000-05-02"], ["phone", "0100447217"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '301859842' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "301859842"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '021992926' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "021992926"], ["date_of_birth", "1986-05-02"], ["phone", "7039718065"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '011928608' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "011928608"], ["date_of_birth", "1997-05-02"], ["phone", "0725180361"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  Rendered employees/_current_employees.html.erb (4.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "f"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (1.5ms)
  Rendered partials/_index_structure.html.erb (9.6ms)
  Rendered employees/index.html.erb within layouts/application (14.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.5ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.3ms)
  Rendered home/home.html.erb within layouts/application (1.8ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered home/about.html.erb within layouts/application (0.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
HomeControllerTest: test_should_get_contact
-------------------------------------------
Processing by HomeController#contact as HTML
  Rendered home/contact.html.erb within layouts/application (0.5ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
HomeControllerTest: test_should_get_privacy
-------------------------------------------
Processing by HomeController#privacy as HTML
  Rendered home/privacy.html.erb within layouts/application (0.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_role' that works. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3882574286"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9566387405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '163512517' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "163512517"], ["date_of_birth", "1997-05-02"], ["phone", "6459241587"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2912137376"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '131439122' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "131439122"], ["date_of_birth", "2000-05-02"], ["phone", "1882963368"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '021087337' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "021087337"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222944720' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "222944720"], ["date_of_birth", "1986-05-02"], ["phone", "5626612907"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '005350699' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "005350699"], ["date_of_birth", "1997-05-02"], ["phone", "0705516973"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed alphabetically by employee name. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2447211610"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4021346894"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '036409982' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "036409982"], ["date_of_birth", "1997-05-02"], ["phone", "2899363512"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3617303042"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '040648811' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "040648811"], ["date_of_birth", "2000-05-02"], ["phone", "4349815573"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '036408617' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "036408617"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '069564102' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "069564102"], ["date_of_birth", "1986-05-02"], ["phone", "9499054427"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '014284513' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "014284513"], ["date_of_birth", "1997-05-02"], ["phone", "9117019871"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id"  ORDER BY last_name, first_name[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to nil. 
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow start_date to be set to Mon, 14 Mar 2016. 
-----------------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should not allow an assignment with past shifts to be destroyed. 
---------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6192032427"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.3ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8185074434"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '144057642' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "144057642"], ["date_of_birth", "1997-05-02"], ["phone", "5412227039"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0847838188"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '041549459' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "041549459"], ["date_of_birth", "2000-05-02"], ["phone", "0021884120"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '064540875' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "064540875"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '140069551' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "140069551"], ["date_of_birth", "1986-05-02"], ["phone", "4727889320"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '328933645' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "328933645"], ["date_of_birth", "1997-05-02"], ["phone", "2293223982"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 6]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should identify a non-active employee as part of an invalid assignment. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9165544679"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9086040923"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '123602489' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "123602489"], ["date_of_birth", "1997-05-02"], ["phone", "3876431131"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8851948199"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024087442' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "024087442"], ["date_of_birth", "2000-05-02"], ["phone", "1478879866"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119543529' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "119543529"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '226613079' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "226613079"], ["date_of_birth", "1986-05-02"], ["phone", "0103485957"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '217438070' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "217438070"], ["date_of_birth", "1997-05-02"], ["phone", "2335557408"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 3. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope to find all past assignments for a store or employee. 
------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4044839058"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8578487446"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '263669529' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263669529"], ["date_of_birth", "1997-05-02"], ["phone", "3961255112"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8147603865"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '113491423' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "113491423"], ["date_of_birth", "2000-05-02"], ["phone", "5386108475"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '265800926' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "265800926"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '244594020' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "244594020"], ["date_of_birth", "1986-05-02"], ["phone", "4839137042"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '361530903' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "361530903"], ["date_of_birth", "1997-05-02"], ["phone", "4237355460"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (store_id = 3)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (store_id = 1)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (employee_id = 4)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (employee_id = 2)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 2.5. 
-------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should not allow for a end date in the future or before the start date. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5686746564"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5444270209"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '332883770' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332883770"], ["date_of_birth", "1997-05-02"], ["phone", "4385968031"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4245733948"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371710075' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "371710075"], ["date_of_birth", "2000-05-02"], ["phone", "9564798825"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '140829544' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "140829544"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '186242013' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "186242013"], ["date_of_birth", "1986-05-02"], ["phone", "5876286767"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326102171' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "326102171"], ["date_of_birth", "1997-05-02"], ["phone", "3815368834"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
AssignmentTest: test_: Assignment should have many shifts. 
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow start_date to be set to Fri, 02 May 2014. 
-----------------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to -2. 
------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should remove upcoming shifts from an assignment that was ended. 
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5371775075"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4373315229"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '346415670' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346415670"], ["date_of_birth", "1997-05-02"], ["phone", "2057567208"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3953714866"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '375053107' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "375053107"], ["date_of_birth", "2000-05-02"], ["phone", "3825978468"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '244813566' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "244813566"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '321323917' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "321323917"], ["date_of_birth", "1986-05-02"], ["phone", "7844359098"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '078944932' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "078944932"], ["date_of_birth", "1997-05-02"], ["phone", "9558435353"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-02"], ["id", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_store' that works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1737414905"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1388192587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '243966477' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "243966477"], ["date_of_birth", "1997-05-02"], ["phone", "7101687202"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1159746203"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '344697180' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "344697180"], ["date_of_birth", "2000-05-02"], ["phone", "9306198166"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '258379040' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "258379040"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '315206636' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "315206636"], ["date_of_birth", "1986-05-02"], ["phone", "5523946278"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '190653962' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "190653962"], ["date_of_birth", "1997-05-02"], ["phone", "8099752120"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 3)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 2. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 4. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow an assignment with no past shifts to be destroyed. 
--------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1829103860"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8473410407"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '202916606' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202916606"], ["date_of_birth", "1997-05-02"], ["phone", "7447879853"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9026989772"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253042503' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "253042503"], ["date_of_birth", "2000-05-02"], ["phone", "2696391194"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '023203872' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "023203872"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '283268641' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "283268641"], ["date_of_birth", "1986-05-02"], ["phone", "7440013461"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '254636156' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "254636156"], ["date_of_birth", "1997-05-02"], ["phone", "4294886582"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')  [["assignment_id", 4]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')  [["assignment_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 7. 
-----------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to Mon, 09 May 2016. 
---------------------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_pay_level' that works. 
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1191073832"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1296816976"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350030127' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350030127"], ["date_of_birth", "1997-05-02"], ["phone", "6180430903"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7152677522"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '095679450' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "095679450"], ["date_of_birth", "2000-05-02"], ["phone", "0269966951"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '031540506' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "031540506"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '319165597' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "319165597"], ["date_of_birth", "1986-05-02"], ["phone", "4722016986"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '230420898' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "230420898"], ["date_of_birth", "1997-05-02"], ["phone", "3083740311"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (pay_level = 1)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (pay_level = 2)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (pay_level = 3)[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (pay_level = 4)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope to find all current assignments for a store or employee. 
---------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3768575056"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3720138662"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '173412464' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "173412464"], ["date_of_birth", "1997-05-02"], ["phone", "9983836250"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1470181090"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '240434388' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "240434388"], ["date_of_birth", "2000-05-02"], ["phone", "6320533107"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '126019271' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "126019271"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '238019669' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "238019669"], ["date_of_birth", "1986-05-02"], ["phone", "3945149663"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '207478321' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "207478321"], ["date_of_birth", "1997-05-02"], ["phone", "2759417791"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (store_id = 3)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (store_id = 1)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 4)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 1)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 5. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
AssignmentTest: test_: Assignment should belong to employee. 
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to "bad". 
---------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should remove upcoming shifts from an assignment that was attempted to be destroyed. 
-----------------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3992844474"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4106569563"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012043469' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012043469"], ["date_of_birth", "1997-05-02"], ["phone", "4472684520"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9742460365"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '143913810' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "143913810"], ["date_of_birth", "2000-05-02"], ["phone", "3056784057"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '112095616' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "112095616"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '272087475' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "272087475"], ["date_of_birth", "1986-05-02"], ["phone", "5726046441"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119023394' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "119023394"], ["date_of_birth", "1997-05-02"], ["phone", "8313994986"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5) AND (date >= '2016-05-02')[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-02"], ["id", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5) AND (date >= '2016-05-02')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_employee' that works. 
---------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2785591341"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1529022789"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '058452875' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "058452875"], ["date_of_birth", "1997-05-02"], ["phone", "8917250340"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6487352652"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '364743992' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "364743992"], ["date_of_birth", "2000-05-02"], ["phone", "8976448313"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '103490253' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "103490253"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '035412468' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "035412468"], ["date_of_birth", "1986-05-02"], ["phone", "3534471080"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '148728982' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "148728982"], ["date_of_birth", "1997-05-02"], ["phone", "2404569533"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (1.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (employee_id = 4)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 6. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
AssignmentTest: test_: Assignment should belong to store. 
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 1. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to "bad". 
----------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow for a end date in the past (or today) but after the start date. 
---------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8142593267"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4112480583"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '103323741' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "103323741"], ["date_of_birth", "1997-05-02"], ["phone", "7903922809"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2625437287"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '175302607' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "175302607"], ["date_of_birth", "2000-05-02"], ["phone", "4913495851"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368797283' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "368797283"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119623532' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "119623532"], ["date_of_birth", "1986-05-02"], ["phone", "2804942737"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '142224873' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "142224873"], ["date_of_birth", "1997-05-02"], ["phone", "9557533909"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should end the current assignment if it exists before adding a new assignment for an employee. 
---------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0469314059"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2861369951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '347410622' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "347410622"], ["date_of_birth", "1997-05-02"], ["phone", "9869749743"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9174768708"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326507835' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "326507835"], ["date_of_birth", "2000-05-02"], ["phone", "8880748822"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '327479763' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "327479763"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166120490' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "166120490"], ["date_of_birth", "1986-05-02"], ["phone", "1385283011"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '004548465' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "004548465"], ["date_of_birth", "1997-05-02"], ["phone", "5948726301"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.6ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-01"], ["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2016-05-01"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY "assignments"."id" ASC LIMIT 1[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow a destroyable assignment has upcoming shifts removed. 
-----------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9334516920"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5976533529"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '022443116' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "022443116"], ["date_of_birth", "1997-05-02"], ["phone", "6773833763"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4161614268"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '072934733' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "072934733"], ["date_of_birth", "2000-05-02"], ["phone", "8171078952"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '292497985' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "292497985"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '011647584' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "011647584"], ["date_of_birth", "1986-05-02"], ["phone", "2900840506"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '314693898' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "314693898"], ["date_of_birth", "1997-05-02"], ["phone", "2760405407"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-02')[0m  [["assignment_id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed alphabetically by store name. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7360725130"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0881300602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '163432699' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "163432699"], ["date_of_birth", "1997-05-02"], ["phone", "4704243966"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5240456767"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '302938097' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "302938097"], ["date_of_birth", "2000-05-02"], ["phone", "1249083558"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '049850794' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "049850794"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '028300188' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "028300188"], ["date_of_birth", "1986-05-02"], ["phone", "4156246810"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '215971420' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "215971420"], ["date_of_birth", "1997-05-02"], ["phone", "1493590291"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.9ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id"  ORDER BY name[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed chronologically by start date. 
--------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1088987071"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6246837426"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '369162740' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "369162740"], ["date_of_birth", "1997-05-02"], ["phone", "2050338192"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4259581969"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '058443701' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "058443701"], ["date_of_birth", "2000-05-02"], ["phone", "0049996857"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '250090053' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "250090053"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '027968214' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "027968214"], ["date_of_birth", "1986-05-02"], ["phone", "8233997025"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '139335908' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "139335908"], ["date_of_birth", "1997-05-02"], ["phone", "6505841623"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments"  ORDER BY start_date DESC, end_date DESC
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 0. 
-----------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should identify a non-active store as part of an invalid assignment. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6989547839"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4680267029"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '010214729' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "010214729"], ["date_of_birth", "1997-05-02"], ["phone", "6256429852"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2328865255"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104854060' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "104854060"], ["date_of_birth", "2000-05-02"], ["phone", "2248990823"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '190464886' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "190464886"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '148964341' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "148964341"], ["date_of_birth", "1986-05-02"], ["phone", "0045212728"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '269868409' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "269868409"], ["date_of_birth", "1997-05-02"], ["phone", "9044123235"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
StoreTest: test_: Store should require name to be set. 
-------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
StoreTest: test_: Store should require street to be set. 
---------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there are two active stores. 
-----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9464600701"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2583080696"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should have a method to identify geocoordinates of a store. 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1060846709"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4822761216"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE ("stores"."name" = 'CMU' AND "stores"."id" != 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "stores" SET "latitude" = ?, "longitude" = ? WHERE "stores"."id" = ?  [["latitude", 40.4434658], ["longitude", -79.9434567], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "bad". 
-------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
StoreTest: test_: Store should have many assignments. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should correctly assess that stores are not destroyable. 
---------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0167672206"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1674966745"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", "f"], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "bad". 
-----------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "PA". 
--------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "15213-0983". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "412/268/3259". 
----------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "OH". 
--------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should show that all factories are properly created. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0230302214"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8528880357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "1512". 
------------------------------------------------------------------
  [1m[35mStore Exists (0.3ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "800-EAT-FOOD". 
----------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "4122683259". 
----------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "152134". 
--------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to 10. 
----------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should change the latitude and longitude of a store's record. 
--------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9126109774"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4787749026"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE ("stores"."name" = 'CMU' AND "stores"."id" != 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stores" SET "latitude" = ?, "longitude" = ? WHERE "stores"."id" = ?[0m  [["latitude", 40.4434658], ["longitude", -79.9434567], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there is one inactive store. 
-----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4081585878"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0001498593"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "f"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "f"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should force stores to have unique names. 
------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3674799980"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2801305347"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "NY". 
------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "WV". 
--------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should fail to identify geocoordinates for a bogus store. 
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3666969769"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5120905380"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
StoreTest: test_: Store should have many employees through assignments. 
------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
StoreTest: test_: Store should require zip to be set. 
------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "412-268-3259". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "14122683259". 
---------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "CA". 
------------------------------------------------------------------
  [1m[35mStore Exists (0.3ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "2683259". 
-----------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StoreTest: test_: Store should have many store_flavors. 
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "4122683259x224". 
------------------------------------------------------------------------------
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "412-2683-259". 
----------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
StoreTest: test_: Store should allow zip to be set to "15213". 
---------------------------------------------------------------
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
StoreTest: test_: Store should have many flavors through store_flavors. 
------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------
StoreTest: test_: Store should have many shifts through assignments. 
---------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should make an undestroyed store inactive. 
-------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5713729213"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1411547448"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?  [["active", "f"], ["id", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "412.268.3259". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there are three stores in in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8747224493"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6686770788"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores"  ORDER BY name[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that Oakland's phone is stripped of non-digits. 
-------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7296661863"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5751433064"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "(412) 268-3259". 
--------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "(412) 268-3259". 
--------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Wed, 02 May 2001. 
----------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should show there are two employees under 18. 
----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '257925789' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "257925789"], ["date_of_birth", "1997-05-02"], ["phone", "1587068858"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7116419359"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '053442042' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "053442042"], ["date_of_birth", "2000-05-02"], ["phone", "9276296846"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '118059302' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "118059302"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247801548' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "247801548"], ["date_of_birth", "1986-05-02"], ["phone", "2710299178"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '035109945' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "035109945"], ["date_of_birth", "1997-05-02"], ["phone", "3645043091"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '1998-05-02')[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE (date_of_birth > '1998-05-02')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
EmployeeTest: test_: Employee should require role to be set. 
-------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should have one user dependent => destroy. 
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow ssn to be set to "123456789". 
-------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '123456789' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "1234567890". 
------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '1234567890' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are 2 managers: Ben and Kathryn. 
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '095110876' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "095110876"], ["date_of_birth", "1997-05-02"], ["phone", "4248966400"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2208514715"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '201222788' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "201222788"], ["date_of_birth", "2000-05-02"], ["phone", "0735867805"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '301798208' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "301798208"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '137298768' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "137298768"], ["date_of_birth", "1986-05-02"], ["phone", "7510407974"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '025579009' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "025579009"], ["date_of_birth", "1997-05-02"], ["phone", "7059297615"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?  [["role", "manager"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "manager"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "vp". 
-----------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows name as last, first name. 
---------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '205022430' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "205022430"], ["date_of_birth", "1997-05-02"], ["phone", "1413734435"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8126048599"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '321284523' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "321284523"], ["date_of_birth", "2000-05-02"], ["phone", "3288943112"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '230046879' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "230046879"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '144898290' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "144898290"], ["date_of_birth", "1986-05-02"], ["phone", "9365880193"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '263979853' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "263979853"], ["date_of_birth", "1997-05-02"], ["phone", "0211657657"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "12345678". 
----------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '12345678' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that Ben's phone is stripped of non-digits. 
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '384518073' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384518073"], ["date_of_birth", "1997-05-02"], ["phone", "8124563920"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7030801662"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '356651334' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "356651334"], ["date_of_birth", "2000-05-02"], ["phone", "5622567603"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333752928' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "333752928"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '122604665' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "122604665"], ["date_of_birth", "1986-05-02"], ["phone", "5576239161"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '006601940' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "006601940"], ["date_of_birth", "1997-05-02"], ["phone", "4204683755"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "hacker". 
---------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
EmployeeTest: test_: Employee should require first_name to be set. 
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "412-2683-259". 
----------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should show there are four employees over 18. 
----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '136041261' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "136041261"], ["date_of_birth", "1997-05-02"], ["phone", "5700856933"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8904975524"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '311673793' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "311673793"], ["date_of_birth", "2000-05-02"], ["phone", "3568422169"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '057033962' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "057033962"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326583941' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "326583941"], ["date_of_birth", "1986-05-02"], ["phone", "9057962263"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '275121192' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "275121192"], ["date_of_birth", "1997-05-02"], ["phone", "3494801764"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '1998-05-02')[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE (date_of_birth <= '1998-05-02')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "14122683259". 
---------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "employee". 
-------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should force employees to have unique ssn. 
-------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '156916563' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "156916563"], ["date_of_birth", "1997-05-02"], ["phone", "1228105225"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6290963248"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '273765065' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "273765065"], ["date_of_birth", "2000-05-02"], ["phone", "2744104547"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '033113691' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "033113691"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '063338894' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "063338894"], ["date_of_birth", "1986-05-02"], ["phone", "1982724563"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '362048378' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "362048378"], ["date_of_birth", "1997-05-02"], ["phone", "8337988592"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "bad". 
------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "4122683259". 
----------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that Cindy's ssn is stripped of non-digits. 
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '051250772' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051250772"], ["date_of_birth", "1997-05-02"], ["phone", "0655398354"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1638639511"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '259335236' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "259335236"], ["date_of_birth", "2000-05-02"], ["phone", "8744424736"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '143530153' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "143530153"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '233687198' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "233687198"], ["date_of_birth", "1986-05-02"], ["phone", "7135499744"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '336372677' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "336372677"], ["date_of_birth", "1997-05-02"], ["phone", "2190665492"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "412-268-3259". 
------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should properly handle case of employee with past shifts. 
----------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '110607551' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "110607551"], ["date_of_birth", "1997-05-02"], ["phone", "6334502225"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0318157084"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '380463542' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "380463542"], ["date_of_birth", "2000-05-02"], ["phone", "3931701319"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '291553415' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "291553415"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.6ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '062383875' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "062383875"], ["date_of_birth", "1986-05-02"], ["phone", "4601360298"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '296215423' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "296215423"], ["date_of_birth", "1997-05-02"], ["phone", "1432591941"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1691156101"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6581389952"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-29"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 5)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date < '2016-05-02') AND (assignments.employee_id = 5)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-02') AND (assignments.employee_id = 5)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')  [["employee_id", 5]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.3ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 1  [["employee_id", 5]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-02') AND (assignments.employee_id = 5)[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should have many shifts through assignments. 
---------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
EmployeeTest: test_: Employee should require last_name to be set. 
------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "412/268/3259". 
----------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are five active employees. 
---------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '277272352' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "277272352"], ["date_of_birth", "1997-05-02"], ["phone", "2012256830"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6486867428"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.3ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '229222656' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "229222656"], ["date_of_birth", "2000-05-02"], ["phone", "0739801669"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '047471323' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "047471323"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '149006951' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "149006951"], ["date_of_birth", "1986-05-02"], ["phone", "4064406734"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '180964836' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "180964836"], ["date_of_birth", "1997-05-02"], ["phone", "9435384277"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows proper name as first and last name. 
-------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '332795337' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "332795337"], ["date_of_birth", "1997-05-02"], ["phone", "5340681210"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6826469599"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '291282645' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "291282645"], ["date_of_birth", "2000-05-02"], ["phone", "0818478386"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '179962727' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "179962727"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '130164106' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "130164106"], ["date_of_birth", "1986-05-02"], ["phone", "0802930642"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '065976941' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "065976941"], ["date_of_birth", "1997-05-02"], ["phone", "1803602530"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to "bad". 
---------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows return employee's current assignment if it exists. 
----------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '255726950' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "255726950"], ["date_of_birth", "1997-05-02"], ["phone", "5779643555"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6542879697"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '001548455' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "001548455"], ["date_of_birth", "2000-05-02"], ["phone", "0479943044"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '163181748' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "163181748"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '224487207' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "224487207"], ["date_of_birth", "1986-05-02"], ["phone", "0533857755"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '289031562' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "289031562"], ["date_of_birth", "1997-05-02"], ["phone", "4085176220"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4863971893"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9364198310"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 4]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to 10. 
---------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there is one inactive employee. 
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '379891624' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "379891624"], ["date_of_birth", "1997-05-02"], ["phone", "9210763989"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5570876814"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '209886247' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "209886247"], ["date_of_birth", "2000-05-02"], ["phone", "7844989245"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '151066137' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "151066137"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '291631149' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "291631149"], ["date_of_birth", "1986-05-02"], ["phone", "9172612598"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '262197099' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "262197099"], ["date_of_birth", "1997-05-02"], ["phone", "3043553093"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "f"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
EmployeeTest: test_: Employee should require date_of_birth to be set. 
----------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "bad". 
-----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Sun, 02 May 1999. 
----------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to nil. 
-------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "4122683259x224". 
------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that age method returns the correct value. 
--------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '352924894' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "352924894"], ["date_of_birth", "1997-05-02"], ["phone", "1000967657"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6467338787"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '178220846' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "178220846"], ["date_of_birth", "2000-05-02"], ["phone", "0959622409"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '094531487' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "094531487"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '250558696' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "250558696"], ["date_of_birth", "1986-05-02"], ["phone", "2728048887"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '260832340' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "260832340"], ["date_of_birth", "1997-05-02"], ["phone", "5376287468"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to nil. 
---------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "manager". 
------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Thu, 02 May 2002. 
----------------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there is one admin: Alex. 
--------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '071217051' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "071217051"], ["date_of_birth", "1997-05-02"], ["phone", "2496985523"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2250458325"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '060849261' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "060849261"], ["date_of_birth", "2000-05-02"], ["phone", "5212384316"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '034658739' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "034658739"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '210083763' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "210083763"], ["date_of_birth", "1986-05-02"], ["phone", "5053720863"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381542269' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "381542269"], ["date_of_birth", "1997-05-02"], ["phone", "3747573376"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?  [["role", "admin"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "admin"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should recognize when an employee is destroyable. 
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '158945973' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "158945973"], ["date_of_birth", "1997-05-02"], ["phone", "5367588035"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9711872917"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371378149' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "371378149"], ["date_of_birth", "2000-05-02"], ["phone", "6727271762"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '127367453' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "127367453"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381887409' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "381887409"], ["date_of_birth", "1986-05-02"], ["phone", "7704744985"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '279318580' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "279318580"], ["date_of_birth", "1997-05-02"], ["phone", "7669370135"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5910990536"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7435003050"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')  [["employee_id", 5]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 2]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."employee_id" = ? LIMIT 1[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 2]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "admin". 
----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
EmployeeTest: test_: Employee should require ssn to be set. 
------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should have many stores through assignments. 
---------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are 3 regular employees: Ed, Cindy and Ralph. 
----------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '317417312' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317417312"], ["date_of_birth", "1997-05-02"], ["phone", "2176651437"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5045681678"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '013461037' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "013461037"], ["date_of_birth", "2000-05-02"], ["phone", "5615773429"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '259972877' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "259972877"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '319339265' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "319339265"], ["date_of_birth", "1986-05-02"], ["phone", "9598764551"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '243449808' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "243449808"], ["date_of_birth", "1997-05-02"], ["phone", "0070090962"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "employee"]]
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."role" = ?  [["role", "employee"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "800-EAT-FOOD". 
----------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
EmployeeTest: test_: Employee should have many assignments. 
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to nil. 
-------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "2683259". 
-----------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "412.268.3259". 
------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that over_18? boolean method works. 
-------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166851924' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166851924"], ["date_of_birth", "1997-05-02"], ["phone", "2733807206"], ["role", "employee"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2922803369"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '298059065' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "298059065"], ["date_of_birth", "2000-05-02"], ["phone", "7359873921"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '164534498' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "164534498"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '182923816' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "182923816"], ["date_of_birth", "1986-05-02"], ["phone", "7207559651"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '092889733' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "092889733"], ["date_of_birth", "1997-05-02"], ["phone", "9904554359"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to nil. 
----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should properly handle case of employee with no past shifts. 
-------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '354193672' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "354193672"], ["date_of_birth", "1997-05-02"], ["phone", "9841418196"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0207864232"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '227533006' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "227533006"], ["date_of_birth", "2000-05-02"], ["phone", "2048338058"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '117948402' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "117948402"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '108243798' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "108243798"], ["date_of_birth", "1986-05-02"], ["phone", "9700545869"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '375705788' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "375705788"], ["date_of_birth", "1997-05-02"], ["phone", "5285202514"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2143434492"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1845544400"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 2)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-02') AND (assignments.employee_id = 2)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 2]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."employee_id" = ? LIMIT 1[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 2]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 2)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-02') AND (assignments.employee_id = 2)[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to Fri, 02 May 2003 11:36:04 EDT -04:00. 
----------------------------------------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
ShiftJobTest: test_: ShiftJob should belong to job. 
----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ShiftJobTest: test_: ShiftJob should require shift_id to be set. 
-----------------------------------------------------------------
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------
ShiftJobTest: test_: Creating a context for shift_jobs should identify a non-existent shift as part of an invalid shift_job. 
-----------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6462631877"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4247071504"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166951816' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166951816"], ["date_of_birth", "1997-05-02"], ["phone", "4320206765"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9338322653"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '329540586' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "329540586"], ["date_of_birth", "2000-05-02"], ["phone", "6699149768"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '028387586' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "028387586"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '034729595' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "034729595"], ["date_of_birth", "1986-05-02"], ["phone", "8412186550"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '344021342' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "344021342"], ["date_of_birth", "1997-05-02"], ["phone", "9690280240"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
ShiftJobTest: test_: ShiftJob should require job_id to be set. 
---------------------------------------------------------------
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
ShiftJobTest: test_: ShiftJob should belong to shift. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------------------
ShiftJobTest: test_: Creating a context for shift_jobs should identify a non-active or non-existent job as part of an invalid shift job. 
-----------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3248141066"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5709644732"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '383453993' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "383453993"], ["date_of_birth", "1997-05-02"], ["phone", "2218454450"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9769771711"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '059565247' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "059565247"], ["date_of_birth", "2000-05-02"], ["phone", "4597347163"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '273521409' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "273521409"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '033761720' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "033761720"], ["date_of_birth", "1986-05-02"], ["phone", "1482289761"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '290996399' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "290996399"], ["date_of_birth", "1997-05-02"], ["phone", "4449971483"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-02"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-04"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-02"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-29"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-09"], ["start_time", "2016-05-02 15:00:00.000000"], ["end_time", "2016-05-02 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred@fred.com". 
-----------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "my fred@fred.com". 
------------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my fred@fred.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred123@fred.gov". 
--------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred123@fred.gov') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred". 
------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------
UserTest: test_: Creating a context for users should shows that only active employees can have users. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '056562525' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056562525"], ["date_of_birth", "1997-05-02"], ["phone", "0139416982"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6894662667"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '188919785' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "188919785"], ["date_of_birth", "2000-05-02"], ["phone", "4112324711"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '232048934' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "232048934"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '016372890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "016372890"], ["date_of_birth", "1986-05-02"], ["phone", "5876299942"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '086864581' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "086864581"], ["date_of_birth", "1997-05-02"], ["phone", "9354245887"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ed@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "ed@example.com"], ["employee_id", 1], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cindy@example.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "cindy@example.com"], ["employee_id", 2], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ben@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "ben@example.com"], ["employee_id", 4], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alex@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "alex@example.com"], ["employee_id", 6], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('usermail1@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '141386171' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('usermail2@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 4]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_: User should require unique value for email. 
-------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email") VALUES (?)[0m  [["email", "a"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "my_fred@fred.org". 
--------------------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my_fred@fred.org') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred.uk". 
--------------------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.uk') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------
UserTest: test_: Creating a context for users should destroy user if employee destroyed. 
-----------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '351395648' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "351395648"], ["date_of_birth", "1997-05-02"], ["phone", "7381674027"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2723728731"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '090830768' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "090830768"], ["date_of_birth", "2000-05-02"], ["phone", "0443922983"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '301659714' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "301659714"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '158105152' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "158105152"], ["date_of_birth", "1986-05-02"], ["phone", "6450533102"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '144766056' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "144766056"], ["date_of_birth", "1997-05-02"], ["phone", "3623819387"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ed@example.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "ed@example.com"], ["employee_id", 1], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cindy@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "cindy@example.com"], ["employee_id", 2], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ben@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "ben@example.com"], ["employee_id", 4], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alex@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "alex@example.com"], ["employee_id", 6], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('mdf@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "mdf@example.com"], ["employee_id", 7], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-02')  [["employee_id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 7]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-02')[0m  [["employee_id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred@andrew.cmu.edu". 
-----------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@andrew.cmu.edu') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred.con". 
---------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.con') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_: User should belong to employee. 
-------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "my.fred@fred.net". 
--------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my.fred@fred.net') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred,com". 
---------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred,com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
StoresControllerTest: test_should_update_a_store
------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7315824667"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8073725636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by StoresController#update as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "name"=>"CMU", "phone"=>"4122688211", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}, "id"=>"3"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE ("stores"."name" = 'CMU' AND "stores"."id" != 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stores" SET "phone" = ? WHERE "stores"."id" = ?[0m  [["phone", "4122688211"], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/stores/3
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Processing by StoresController#update as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "name"=>nil, "phone"=>"4122688211", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}, "id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE ("stores"."name" IS NULL AND "stores"."id" != 3) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered stores/_form.html.erb (6.8ms)
  Rendered partials/_display_form.html.erb (8.7ms)
  Rendered stores/edit.html.erb within layouts/application (9.2ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
StoresControllerTest: test_should_get_index
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1694994461"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2756335587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by StoresController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (5.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (1.5ms)
  Rendered partials/_index_structure.html.erb (10.2ms)
  Rendered stores/index.html.erb within layouts/application (13.9ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.7ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
StoresControllerTest: test_should_get_edit
------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9290566081"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2971296398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by StoresController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered stores/_form.html.erb (6.7ms)
  Rendered partials/_display_form.html.erb (6.8ms)
  Rendered stores/edit.html.erb within layouts/application (6.9ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.1ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
StoresControllerTest: test_should_create_a_new_store
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0002635375"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6466908443"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "stores"[0m
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "name"=>"Porter", "phone"=>"4122683259", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Porter' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Porter"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/stores/4
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores"
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "phone"=>"4122683259", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered stores/_form.html.erb (6.7ms)
  Rendered partials/_display_form.html.erb (6.9ms)
  Rendered stores/new.html.erb within layouts/application (7.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
StoresControllerTest: test_should_get_new
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2905291524"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3358713515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by StoresController#new as HTML
  Rendered stores/_form.html.erb (7.4ms)
  Rendered partials/_display_form.html.erb (7.6ms)
  Rendered stores/new.html.erb within layouts/application (7.9ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
StoresControllerTest: test_should_show_store_and_the_current_assingments_at_at_store
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9898465268"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2574124696"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '067720353' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "067720353"], ["date_of_birth", "1997-05-02"], ["phone", "6140122076"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "7702252487"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '070778077' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "070778077"], ["date_of_birth", "2000-05-02"], ["phone", "7188036454"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166395498' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "166395498"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '223211941' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "223211941"], ["date_of_birth", "1986-05-02"], ["phone", "4580100543"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '054041165' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "054041165"], ["date_of_birth", "1997-05-02"], ["phone", "3255847707"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered stores/_store_details.html.erb (0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0[0m  [["store_id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered stores/_assigned_employees.html.erb (4.1ms)
  Rendered partials/_object_options.html.erb (0.9ms)
  Rendered stores/show.html.erb within layouts/application (11.2ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.6ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
StoresControllerTest: test_should_destroy_store
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1651287031"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8470613047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores"
Processing by StoresController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", "f"], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/stores
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stores"[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.5ms)
  Rendered home/home.html.erb within layouts/application (5.2ms)
  Rendered partials/_nav.html.erb (2.2ms)
  Rendered partials/_flash.html.erb (0.9ms)
  Rendered partials/_footer.html.erb (1.4ms)
Completed 200 OK in 270ms (Views: 259.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/about" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#about as HTML
  Rendered home/about.html.erb within layouts/application (0.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/contact" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#contact as HTML
  Rendered home/contact.html.erb within layouts/application (0.6ms)
  Rendered partials/_nav.html.erb (0.8ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/privacy" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#privacy as HTML
  Rendered home/privacy.html.erb within layouts/application (0.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.3ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
Started GET "/" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.0ms)
  Rendered home/home.html.erb within layouts/application (0.2ms)
  Rendered partials/_nav.html.erb (0.5ms)
  Rendered partials/_flash.html.erb (0.2ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4916333177"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5271979722"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '051427081' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051427081"], ["date_of_birth", "1997-05-02"], ["phone", "5588862728"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5857864372"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '347379850' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "347379850"], ["date_of_birth", "2000-05-02"], ["phone", "6730558642"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '202754110' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "202754110"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '017272863' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "017272863"], ["date_of_birth", "1986-05-02"], ["phone", "6748270225"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '278079240' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "278079240"], ["date_of_birth", "1997-05-02"], ["phone", "0077814683"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '309377389' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "309377389"], ["date_of_birth", "1995-12-02"], ["phone", "7301025828"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '340905370' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "340905370"], ["date_of_birth", "1996-11-02"], ["phone", "5449565224"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '215797474' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "215797474"], ["date_of_birth", "1996-05-02"], ["phone", "7883575982"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.0ms)
  Rendered home/home.html.erb within layouts/application (0.1ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/stores" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by StoresController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 6]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 3]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 4]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (14.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (2.3ms)
  Rendered partials/_index_structure.html.erb (19.5ms)
  Rendered stores/index.html.erb within layouts/application (24.2ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 33ms (Views: 31.2ms | ActiveRecord: 0.8ms)
Started GET "/employees" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by EmployeesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.3ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", true]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mStore Load (0.2ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 23]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_current_employees.html.erb (20.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (2.8ms)
  Rendered partials/_index_structure.html.erb (26.0ms)
  Rendered employees/index.html.erb within layouts/application (31.3ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 39.3ms | ActiveRecord: 1.6ms)
Started GET "/assignments" for 127.0.0.1 at 2016-05-02 11:36:40 -0400
Processing by AssignmentsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered assignments/_assignment_list.html.erb (21.2ms)
  Rendered assignments/_current_assignments.html.erb (28.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  Rendered assignments/_assignment_list.html.erb (12.5ms)
  Rendered assignments/_past_assignments.html.erb (15.0ms)
  Rendered partials/_index_structure_2.html.erb (47.1ms)
  Rendered assignments/index.html.erb within layouts/application (52.9ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 64ms (Views: 60.4ms | ActiveRecord: 2.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8087020127"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9051003099"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '085769207' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "085769207"], ["date_of_birth", "1997-05-02"], ["phone", "1577819870"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5154109350"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '118558022' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "118558022"], ["date_of_birth", "2000-05-02"], ["phone", "5790406454"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '099913295' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "099913295"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '297408317' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "297408317"], ["date_of_birth", "1986-05-02"], ["phone", "3504305862"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '244992974' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "244992974"], ["date_of_birth", "1997-05-02"], ["phone", "9546299388"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '370255649' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "370255649"], ["date_of_birth", "1995-12-02"], ["phone", "9402953934"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '254855899' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "254855899"], ["date_of_birth", "1996-11-02"], ["phone", "7969621310"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '183506005' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "183506005"], ["date_of_birth", "1996-05-02"], ["phone", "5409704762"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stores" for 127.0.0.1 at 2016-05-02 11:36:41 -0400
Processing by StoresController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 5]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 6]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 3]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 4]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (5.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (0.9ms)
  Rendered partials/_index_structure.html.erb (6.7ms)
  Rendered stores/index.html.erb within layouts/application (6.8ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1124644739"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8404211429"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '218414982' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218414982"], ["date_of_birth", "1997-05-02"], ["phone", "6138599900"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3435052859"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '244302515' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "244302515"], ["date_of_birth", "2000-05-02"], ["phone", "9422628007"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '096126223' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "096126223"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '384966932' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "384966932"], ["date_of_birth", "1986-05-02"], ["phone", "5893997770"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '000003090' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "000003090"], ["date_of_birth", "1997-05-02"], ["phone", "3310131538"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '302849807' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "302849807"], ["date_of_birth", "1995-12-02"], ["phone", "8704983231"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '321256236' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "321256236"], ["date_of_birth", "1996-11-02"], ["phone", "6831335168"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '056691560' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "056691560"], ["date_of_birth", "1996-05-02"], ["phone", "7957750391"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.3ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stores/4" for 127.0.0.1 at 2016-05-02 11:36:41 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  Rendered stores/_store_details.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 4]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0  [["store_id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered stores/_assigned_employees.html.erb (5.2ms)
  Rendered partials/_object_options.html.erb (1.5ms)
  Rendered stores/show.html.erb within layouts/application (13.1ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1880173559"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7110451337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '031833591' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031833591"], ["date_of_birth", "1997-05-02"], ["phone", "7208116366"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0181354687"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '089896704' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "089896704"], ["date_of_birth", "2000-05-02"], ["phone", "1310425606"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '015263897' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "015263897"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '030555937' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "030555937"], ["date_of_birth", "1986-05-02"], ["phone", "5108059886"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '108547658' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "108547658"], ["date_of_birth", "1997-05-02"], ["phone", "3802797302"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '286162867' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "286162867"], ["date_of_birth", "1995-12-02"], ["phone", "6400152120"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253283328' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "253283328"], ["date_of_birth", "1996-11-02"], ["phone", "0078618376"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '102950623' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "102950623"], ["date_of_birth", "1996-05-02"], ["phone", "5483917982"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stores" for 127.0.0.1 at 2016-05-02 11:36:41 -0400
Processing by StoresController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 5]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 6]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 4]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (5.6ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "f"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (0.9ms)
  Rendered partials/_index_structure.html.erb (6.8ms)
  Rendered stores/index.html.erb within layouts/application (7.0ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.5ms)
Started GET "/stores/3" for 127.0.0.1 at 2016-05-02 11:36:41 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0[0m  [["store_id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  Rendered stores/_assigned_employees.html.erb (4.2ms)
  Rendered partials/_object_options.html.erb (0.7ms)
  Rendered stores/show.html.erb within layouts/application (6.4ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.4ms)
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7361453642"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8510784635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '059002050' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "059002050"], ["date_of_birth", "1997-05-02"], ["phone", "2050676663"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5331474418"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '029181170' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "029181170"], ["date_of_birth", "2000-05-02"], ["phone", "1442142818"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166421199' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "166421199"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '240182965' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "240182965"], ["date_of_birth", "1986-05-02"], ["phone", "2148949252"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '070920689' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "070920689"], ["date_of_birth", "1997-05-02"], ["phone", "0622057797"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '352108291' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "352108291"], ["date_of_birth", "1995-12-02"], ["phone", "7917569823"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084692406' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "084692406"], ["date_of_birth", "1996-11-02"], ["phone", "3557407950"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '258951370' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "258951370"], ["date_of_birth", "1996-05-02"], ["phone", "5427764252"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stores/new" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#new as HTML
  Rendered stores/_form.html.erb (352.4ms)
  Rendered partials/_display_form.html.erb (354.0ms)
  Rendered stores/new.html.erb within layouts/application (356.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 362ms (Views: 361.9ms | ActiveRecord: 0.0ms)
Started POST "/stores" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#create as HTML
  Parameters: {"utf8"=>"✓", "store"=>{"name"=>"Glenwood", "street"=>"101 Busch Place", "city"=>"Pittsburgh", "state"=>"PA", "zip"=>"15222", "phone"=>"7243654922", "active"=>"1"}, "commit"=>"Create Store"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Glenwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Glenwood"], ["street", "101 Busch Place"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "7243654922"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/stores/7
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/stores/7" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 7]]
  Rendered partials/_object_options.html.erb (0.8ms)
  Rendered stores/show.html.erb within layouts/application (1.8ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2577901921"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3087071934"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '202410773' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202410773"], ["date_of_birth", "1997-05-02"], ["phone", "9042586545"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2099059885"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '190447504' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "190447504"], ["date_of_birth", "2000-05-02"], ["phone", "3322123973"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '231589777' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "231589777"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '288728696' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "288728696"], ["date_of_birth", "1986-05-02"], ["phone", "5544259535"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '278339250' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "278339250"], ["date_of_birth", "1997-05-02"], ["phone", "7222748165"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326943927' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "326943927"], ["date_of_birth", "1995-12-02"], ["phone", "3104936022"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166853569' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "166853569"], ["date_of_birth", "1996-11-02"], ["phone", "5598613568"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024780153' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "024780153"], ["date_of_birth", "1996-05-02"], ["phone", "4183017368"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stores/new" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#new as HTML
  Rendered stores/_form.html.erb (12.8ms)
  Rendered partials/_display_form.html.erb (13.0ms)
  Rendered stores/new.html.erb within layouts/application (13.1ms)
  Rendered partials/_nav.html.erb (0.7ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 18ms (Views: 18.0ms | ActiveRecord: 0.0ms)
Started POST "/stores" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#create as HTML
  Parameters: {"utf8"=>"✓", "store"=>{"name"=>"", "street"=>"101 Busch Place", "city"=>"Pittsburgh", "state"=>"", "zip"=>"15222", "phone"=>"", "active"=>"1"}, "commit"=>"Create Store"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered stores/_form.html.erb (5.2ms)
  Rendered partials/_display_form.html.erb (5.3ms)
  Rendered stores/new.html.erb within layouts/application (5.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7901850564"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9247370962"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '185216953' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "185216953"], ["date_of_birth", "1997-05-02"], ["phone", "1682212466"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2516539684"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '239686449' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "239686449"], ["date_of_birth", "2000-05-02"], ["phone", "8617605405"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '242769000' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "242769000"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '192871396' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "192871396"], ["date_of_birth", "1986-05-02"], ["phone", "9105993158"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '153875625' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "153875625"], ["date_of_birth", "1997-05-02"], ["phone", "9093342689"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079704598' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "079704598"], ["date_of_birth", "1995-12-02"], ["phone", "7676579181"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '056956112' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "056956112"], ["date_of_birth", "1996-11-02"], ["phone", "4152887437"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '033206382' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "033206382"], ["date_of_birth", "1996-05-02"], ["phone", "9673519682"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stores/new" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#new as HTML
  Rendered stores/_form.html.erb (5.6ms)
  Rendered partials/_display_form.html.erb (5.7ms)
  Rendered stores/new.html.erb within layouts/application (5.8ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/stores" for 127.0.0.1 at 2016-05-02 11:36:42 -0400
Processing by StoresController#create as HTML
  Parameters: {"utf8"=>"✓", "store"=>{"name"=>"CMU", "street"=>"5000 Forbes Avenue", "city"=>"Pittsburgh", "state"=>"PA", "zip"=>"15213", "phone"=>"", "active"=>"1"}, "commit"=>"Create Store"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered stores/_form.html.erb (5.7ms)
  Rendered partials/_display_form.html.erb (5.9ms)
  Rendered stores/new.html.erb within layouts/application (6.0ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.2ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5297042185"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1063291805"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104354140' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104354140"], ["date_of_birth", "1997-05-02"], ["phone", "8287498435"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5432279734"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '123700030' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "123700030"], ["date_of_birth", "2000-05-02"], ["phone", "4926242834"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '300071875' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "300071875"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '014100672' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "014100672"], ["date_of_birth", "1986-05-02"], ["phone", "5694001180"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '217690209' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "217690209"], ["date_of_birth", "1997-05-02"], ["phone", "3560406433"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368936049' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "368936049"], ["date_of_birth", "1995-12-02"], ["phone", "6182050811"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '145422602' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "145422602"], ["date_of_birth", "1996-11-02"], ["phone", "6270954808"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '050203064' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "050203064"], ["date_of_birth", "1996-05-02"], ["phone", "1138783681"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/stores/new" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by StoresController#new as HTML
  Rendered stores/_form.html.erb (5.7ms)
  Rendered partials/_display_form.html.erb (5.8ms)
  Rendered stores/new.html.erb within layouts/application (5.9ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
Started POST "/stores" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by StoresController#create as HTML
  Parameters: {"utf8"=>"✓", "store"=>{"name"=>"Glenwood", "street"=>"101 Busch Place", "city"=>"Pittsburgh", "state"=>"", "zip"=>"15222222", "phone"=>"", "active"=>"1"}, "commit"=>"Create Store"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Glenwood' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered stores/_form.html.erb (5.2ms)
  Rendered partials/_display_form.html.erb (5.4ms)
  Rendered stores/new.html.erb within layouts/application (5.5ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1258476773"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0380393886"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '115321659' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "115321659"], ["date_of_birth", "1997-05-02"], ["phone", "6913708151"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4382133732"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '351010089' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "351010089"], ["date_of_birth", "2000-05-02"], ["phone", "2187892885"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '141365680' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "141365680"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '133494443' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "133494443"], ["date_of_birth", "1986-05-02"], ["phone", "2432468851"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '154074894' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "154074894"], ["date_of_birth", "1997-05-02"], ["phone", "0514772549"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '383952258' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "383952258"], ["date_of_birth", "1995-12-02"], ["phone", "2603210390"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '057021460' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "057021460"], ["date_of_birth", "1996-11-02"], ["phone", "1409106733"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '102001268' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "102001268"], ["date_of_birth", "1996-05-02"], ["phone", "0200609356"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.2ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by EmployeesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", true]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 23]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_current_employees.html.erb (11.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (1.0ms)
  Rendered partials/_index_structure.html.erb (12.8ms)
  Rendered employees/index.html.erb within layouts/application (12.9ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9853785209"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4627181793"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '034909289' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034909289"], ["date_of_birth", "1997-05-02"], ["phone", "0406465283"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9621827742"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044052613' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "044052613"], ["date_of_birth", "2000-05-02"], ["phone", "9238336802"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '213318123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "213318123"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '300313014' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "300313014"], ["date_of_birth", "1986-05-02"], ["phone", "5430268399"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '283565152' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "283565152"], ["date_of_birth", "1997-05-02"], ["phone", "2134344192"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.3ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '168389207' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "168389207"], ["date_of_birth", "1995-12-02"], ["phone", "4967538142"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079355834' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "079355834"], ["date_of_birth", "1996-11-02"], ["phone", "2314710001"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '125112577' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "125112577"], ["date_of_birth", "1996-05-02"], ["phone", "4477948100"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by EmployeesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", true]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 23]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_current_employees.html.erb (13.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (1.5ms)
  Rendered partials/_index_structure.html.erb (15.4ms)
  Rendered employees/index.html.erb within layouts/application (15.5ms)
  Rendered partials/_nav.html.erb (0.6ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 1.0ms)
Started GET "/stores/3" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 3]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0  [["store_id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered stores/_assigned_employees.html.erb (3.0ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered stores/show.html.erb within layouts/application (4.6ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0796942057"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7277960691"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '082896927' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "082896927"], ["date_of_birth", "1997-05-02"], ["phone", "1654510486"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9000179674"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '353609548' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "353609548"], ["date_of_birth", "2000-05-02"], ["phone", "9450636795"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '101562266' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "101562266"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '038101541' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "038101541"], ["date_of_birth", "1986-05-02"], ["phone", "7091293484"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '274503061' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "274503061"], ["date_of_birth", "1997-05-02"], ["phone", "8647925710"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253146842' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "253146842"], ["date_of_birth", "1995-12-02"], ["phone", "4297645834"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '366924332' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "366924332"], ["date_of_birth", "1996-11-02"], ["phone", "5699064180"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '374716139' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "374716139"], ["date_of_birth", "1996-05-02"], ["phone", "7432816087"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by EmployeesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", true]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 6]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 23]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_current_employees.html.erb (11.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (1.0ms)
  Rendered partials/_index_structure.html.erb (12.3ms)
  Rendered employees/index.html.erb within layouts/application (12.4ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.8ms)
Started GET "/employees/13" for 127.0.0.1 at 2016-05-02 11:36:43 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  Rendered employees/_employee_details.html.erb (0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0  [["employee_id", 13]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered employees/_assignment_history.html.erb (2.1ms)
  Rendered partials/_object_options.html.erb (0.5ms)
  Rendered employees/show.html.erb within layouts/application (7.2ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6041760236"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4976155032"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '374409363' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374409363"], ["date_of_birth", "1997-05-02"], ["phone", "1645274595"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5381534906"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '134906374' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "134906374"], ["date_of_birth", "2000-05-02"], ["phone", "9513109122"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '072023206' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "072023206"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '038523409' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "038523409"], ["date_of_birth", "1986-05-02"], ["phone", "0353733159"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '254209424' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "254209424"], ["date_of_birth", "1997-05-02"], ["phone", "7724541260"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '202845953' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "202845953"], ["date_of_birth", "1995-12-02"], ["phone", "3582270793"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '129302129' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "129302129"], ["date_of_birth", "1996-11-02"], ["phone", "9018681496"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '325948283' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "325948283"], ["date_of_birth", "1996-05-02"], ["phone", "9988943416"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/16" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0  [["employee_id", 16]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  Rendered employees/_assignment_history.html.erb (1.8ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered employees/show.html.erb within layouts/application (3.2ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2911828713"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2893918456"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '317917859' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "317917859"], ["date_of_birth", "1997-05-02"], ["phone", "7786048897"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8523638229"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '146103382' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "146103382"], ["date_of_birth", "2000-05-02"], ["phone", "3190165959"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '032625197' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "032625197"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '142285167' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "142285167"], ["date_of_birth", "1986-05-02"], ["phone", "7970684831"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '138477023' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "138477023"], ["date_of_birth", "1997-05-02"], ["phone", "8290888879"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381677358' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "381677358"], ["date_of_birth", "1995-12-02"], ["phone", "0402642067"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '061673931' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "061673931"], ["date_of_birth", "1996-11-02"], ["phone", "1295894133"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '019521423' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "019521423"], ["date_of_birth", "1996-05-02"], ["phone", "1348125593"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/employees/16" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0[0m  [["employee_id", 16]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered employees/_assignment_history.html.erb (1.7ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered employees/show.html.erb within layouts/application (3.0ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.2ms)
Started GET "/stores/4" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0  [["store_id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered stores/_assigned_employees.html.erb (3.0ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered stores/show.html.erb within layouts/application (4.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5822991908"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3398979775"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098484904' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098484904"], ["date_of_birth", "1997-05-02"], ["phone", "6575487990"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "8467418055"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '139591066' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "139591066"], ["date_of_birth", "2000-05-02"], ["phone", "6893302491"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '298571793' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "298571793"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '166650780' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "166650780"], ["date_of_birth", "1986-05-02"], ["phone", "4948052457"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '019278441' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "019278441"], ["date_of_birth", "1997-05-02"], ["phone", "5403496911"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.3ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '347789964' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "347789964"], ["date_of_birth", "1995-12-02"], ["phone", "5081988440"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '287091406' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "287091406"], ["date_of_birth", "1996-11-02"], ["phone", "2562061829"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '324124670' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "324124670"], ["date_of_birth", "1996-05-02"], ["phone", "1417839466"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/new" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#new as HTML
  Rendered employees/_form.html.erb (12.6ms)
  Rendered partials/_display_form.html.erb (14.6ms)
  Rendered employees/new.html.erb within layouts/application (15.3ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)
Started POST "/employees" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#create as HTML
  Parameters: {"utf8"=>"✓", "employee"=>{"first_name"=>"Zaphod", "last_name"=>"Beeblebrox", "ssn"=>"333 22 4444", "date_of_birth(2i)"=>"5", "date_of_birth(3i)"=>"15", "date_of_birth(1i)"=>"1993", "phone"=>"724.364.9511", "role"=>"employee", "active"=>"1"}, "commit"=>"Create Employee"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333224444' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "role", "phone", "date_of_birth") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Zaphod"], ["last_name", "Beeblebrox"], ["ssn", "333224444"], ["role", "employee"], ["phone", "7243649511"], ["date_of_birth", "1993-05-15"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/24
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/employees/24" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 24]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 24]]
  Rendered partials/_object_options.html.erb (0.7ms)
  Rendered employees/show.html.erb within layouts/application (1.6ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4035969180"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8943956339"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '151677117' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151677117"], ["date_of_birth", "1997-05-02"], ["phone", "6794065536"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0001289956"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '280789129' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "280789129"], ["date_of_birth", "2000-05-02"], ["phone", "0841857963"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '155576599' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "155576599"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '220751704' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "220751704"], ["date_of_birth", "1986-05-02"], ["phone", "0483289342"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '341695436' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "341695436"], ["date_of_birth", "1997-05-02"], ["phone", "1445236962"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '073155833' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "073155833"], ["date_of_birth", "1995-12-02"], ["phone", "3490869451"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '086346270' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "086346270"], ["date_of_birth", "1996-11-02"], ["phone", "2975745174"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '205846353' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "205846353"], ["date_of_birth", "1996-05-02"], ["phone", "2005758732"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/new" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#new as HTML
  Rendered employees/_form.html.erb (8.9ms)
  Rendered partials/_display_form.html.erb (9.0ms)
  Rendered employees/new.html.erb within layouts/application (9.1ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.0ms)
Started POST "/employees" for 127.0.0.1 at 2016-05-02 11:36:44 -0400
Processing by EmployeesController#create as HTML
  Parameters: {"utf8"=>"✓", "employee"=>{"first_name"=>"", "last_name"=>"", "ssn"=>"333 22 4444", "date_of_birth(2i)"=>"4", "date_of_birth(3i)"=>"30", "date_of_birth(1i)"=>"1993", "phone"=>"724.364.9511", "role"=>"employee", "active"=>"1"}, "commit"=>"Create Employee"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333224444' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered employees/_form.html.erb (7.0ms)
  Rendered partials/_display_form.html.erb (7.1ms)
  Rendered employees/new.html.erb within layouts/application (7.2ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.2ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.3ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2348863318"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5182446473"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222933324' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222933324"], ["date_of_birth", "1997-05-02"], ["phone", "1489799143"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "1896139625"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '019267192' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "019267192"], ["date_of_birth", "2000-05-02"], ["phone", "8580285089"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '068729623' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "068729623"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '089451752' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "089451752"], ["date_of_birth", "1986-05-02"], ["phone", "3695255488"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '286006449' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "286006449"], ["date_of_birth", "1997-05-02"], ["phone", "0663452642"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.5ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '277863787' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "277863787"], ["date_of_birth", "1995-12-02"], ["phone", "2237567341"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '070423462' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "070423462"], ["date_of_birth", "1996-11-02"], ["phone", "3389200218"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '226447299' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "226447299"], ["date_of_birth", "1996-05-02"], ["phone", "5224324921"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.3ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.4ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/employees/new" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#new as HTML
  Rendered employees/_form.html.erb (8.9ms)
  Rendered partials/_display_form.html.erb (9.0ms)
  Rendered employees/new.html.erb within layouts/application (9.1ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
Started POST "/employees" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#create as HTML
  Parameters: {"utf8"=>"✓", "employee"=>{"first_name"=>"Zaphod", "last_name"=>"Beeblebrox", "ssn"=>"333 222 4444", "date_of_birth(2i)"=>"4", "date_of_birth(3i)"=>"30", "date_of_birth(1i)"=>"1993", "phone"=>"724.364.9511", "role"=>"employee", "active"=>"1"}, "commit"=>"Create Employee"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '3332224444' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered employees/_form.html.erb (7.7ms)
  Rendered partials/_display_form.html.erb (7.9ms)
  Rendered employees/new.html.erb within layouts/application (8.0ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.2ms)
Started POST "/employees" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#create as HTML
  Parameters: {"utf8"=>"✓", "employee"=>{"first_name"=>"Zaphod", "last_name"=>"Beeblebrox", "ssn"=>"333-22-4444", "date_of_birth(2i)"=>"4", "date_of_birth(3i)"=>"30", "date_of_birth(1i)"=>"1993", "phone"=>"724.364.9511", "role"=>"employee", "active"=>"1"}, "commit"=>"Create Employee"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333224444' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "role", "phone", "date_of_birth") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Zaphod"], ["last_name", "Beeblebrox"], ["ssn", "333224444"], ["role", "employee"], ["phone", "7243649511"], ["date_of_birth", "1993-04-30"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/employees/24
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/employees/24" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 24]]
  Rendered employees/_employee_details.html.erb (0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 24]]
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered employees/show.html.erb within layouts/application (1.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3772054993"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9613490474"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '359436371' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "359436371"], ["date_of_birth", "1997-05-02"], ["phone", "3894483574"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2503783829"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '212582885' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "212582885"], ["date_of_birth", "2000-05-02"], ["phone", "5167691423"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024763820' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "024763820"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '277973520' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "277973520"], ["date_of_birth", "1986-05-02"], ["phone", "4279645137"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '277663775' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "277663775"], ["date_of_birth", "1997-05-02"], ["phone", "8195901421"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '369948456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "369948456"], ["date_of_birth", "1995-12-02"], ["phone", "3840545662"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '317691720' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "317691720"], ["date_of_birth", "1996-11-02"], ["phone", "7573148465"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '138910279' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "138910279"], ["date_of_birth", "1996-05-02"], ["phone", "4463967211"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/new" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#new as HTML
  Rendered employees/_form.html.erb (6.8ms)
  Rendered partials/_display_form.html.erb (6.9ms)
  Rendered employees/new.html.erb within layouts/application (7.0ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
Started POST "/employees" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by EmployeesController#create as HTML
  Parameters: {"utf8"=>"✓", "employee"=>{"first_name"=>"Zaphod", "last_name"=>"Beeblebrox", "ssn"=>"333 22 4444", "date_of_birth(2i)"=>"5", "date_of_birth(3i)"=>"31", "date_of_birth(1i)"=>"2002", "phone"=>"724.364.9511", "role"=>"employee", "active"=>"1"}, "commit"=>"Create Employee"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333224444' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered employees/_form.html.erb (6.7ms)
  Rendered partials/_display_form.html.erb (6.9ms)
  Rendered employees/new.html.erb within layouts/application (7.0ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7679192207"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5924589404"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104170801' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "104170801"], ["date_of_birth", "1997-05-02"], ["phone", "5551846948"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "2575491134"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '295740018' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "295740018"], ["date_of_birth", "2000-05-02"], ["phone", "2735445786"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '289061410' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "289061410"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '311882356' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "311882356"], ["date_of_birth", "1986-05-02"], ["phone", "0626197188"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333482556' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "333482556"], ["date_of_birth", "1997-05-02"], ["phone", "2684778033"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '083457808' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "083457808"], ["date_of_birth", "1995-12-02"], ["phone", "7630440828"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '116023399' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "116023399"], ["date_of_birth", "1996-11-02"], ["phone", "5923753023"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '317831582' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "317831582"], ["date_of_birth", "1996-05-02"], ["phone", "0547382371"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/assignments" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by AssignmentsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  Rendered assignments/_assignment_list.html.erb (18.5ms)
  Rendered assignments/_current_assignments.html.erb (19.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered assignments/_assignment_list.html.erb (13.5ms)
  Rendered assignments/_past_assignments.html.erb (14.6ms)
  Rendered partials/_index_structure_2.html.erb (34.4ms)
  Rendered assignments/index.html.erb within layouts/application (34.5ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 39ms (Views: 36.1ms | ActiveRecord: 2.0ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0141618047"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2324690928"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119849112' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119849112"], ["date_of_birth", "1997-05-02"], ["phone", "6194790795"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "3263780742"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '334885364' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "334885364"], ["date_of_birth", "2000-05-02"], ["phone", "0922997607"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '377896840' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "377896840"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '075433697' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "075433697"], ["date_of_birth", "1986-05-02"], ["phone", "5591581853"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '349779804' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "349779804"], ["date_of_birth", "1997-05-02"], ["phone", "2766320396"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '212796586' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "212796586"], ["date_of_birth", "1995-12-02"], ["phone", "3162399464"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '252441018' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "252441018"], ["date_of_birth", "1996-11-02"], ["phone", "3472100693"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '191139479' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "191139479"], ["date_of_birth", "1996-05-02"], ["phone", "7267431477"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.4ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/assignments" for 127.0.0.1 at 2016-05-02 11:36:45 -0400
Processing by AssignmentsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  Rendered assignments/_assignment_list.html.erb (25.0ms)
  Rendered assignments/_current_assignments.html.erb (26.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  Rendered assignments/_assignment_list.html.erb (11.2ms)
  Rendered assignments/_past_assignments.html.erb (12.2ms)
  Rendered partials/_index_structure_2.html.erb (38.5ms)
  Rendered assignments/index.html.erb within layouts/application (38.6ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 43ms (Views: 39.8ms | ActiveRecord: 1.8ms)
Started GET "/employees/22" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0[0m  [["employee_id", 22]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  Rendered employees/_assignment_history.html.erb (1.2ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered employees/show.html.erb within layouts/application (2.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.2ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9611885693"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1757808679"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '249136102' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "249136102"], ["date_of_birth", "1997-05-02"], ["phone", "0911080424"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "5801486365"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '217180477' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "217180477"], ["date_of_birth", "2000-05-02"], ["phone", "7157268164"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '213438362' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "213438362"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.3ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '267161990' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "267161990"], ["date_of_birth", "1986-05-02"], ["phone", "7872051383"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '036784041' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "036784041"], ["date_of_birth", "1997-05-02"], ["phone", "5102140417"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '168918257' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "168918257"], ["date_of_birth", "1995-12-02"], ["phone", "9370557135"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '219031840' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "219031840"], ["date_of_birth", "1996-11-02"], ["phone", "7772022526"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '186342518' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "186342518"], ["date_of_birth", "1996-05-02"], ["phone", "0131500442"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 13]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 18]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 19]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 20]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 22]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 17]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 11]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 14]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 15]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/assignments" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  Rendered assignments/_assignment_list.html.erb (19.0ms)
  Rendered assignments/_current_assignments.html.erb (19.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered assignments/_assignment_list.html.erb (10.8ms)
  Rendered assignments/_past_assignments.html.erb (11.8ms)
  Rendered partials/_index_structure_2.html.erb (32.0ms)
  Rendered assignments/index.html.erb within layouts/application (32.1ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 36ms (Views: 33.1ms | ActiveRecord: 1.9ms)
Started GET "/stores/5" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0  [["store_id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered stores/_assigned_employees.html.erb (2.9ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered stores/show.html.erb within layouts/application (4.6ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.4ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8016603115"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4510054667"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '136241814' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "136241814"], ["date_of_birth", "1997-05-02"], ["phone", "7768350054"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6317373316"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '364425185' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "364425185"], ["date_of_birth", "2000-05-02"], ["phone", "8158993746"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '118458309' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "118458309"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371497471' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "371497471"], ["date_of_birth", "1986-05-02"], ["phone", "0543830533"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '284850540' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "284850540"], ["date_of_birth", "1997-05-02"], ["phone", "7617529516"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '078384638' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "078384638"], ["date_of_birth", "1995-12-02"], ["phone", "2257574078"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222697451' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "222697451"], ["date_of_birth", "1996-11-02"], ["phone", "1971404730"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '295027192' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "295027192"], ["date_of_birth", "1996-05-02"], ["phone", "0322379548"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.6ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/assignments/new" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#new as HTML
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (9.9ms)
  Rendered partials/_display_form.html.erb (12.0ms)
  Rendered assignments/new.html.erb within layouts/application (12.7ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.4ms)
Started POST "/assignments" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#create as HTML
  Parameters: {"utf8"=>"✓", "assignment"=>{"store_id"=>"5", "employee_id"=>"21", "start_date(2i)"=>"5", "start_date(3i)"=>"2", "start_date(1i)"=>"2016", "pay_level"=>"2"}, "commit"=>"Create Assignment"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("employee_id", "store_id", "pay_level", "start_date") VALUES (?, ?, ?, ?)[0m  [["employee_id", 21], ["store_id", 5], ["pay_level", 2], ["start_date", "2016-05-02"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
Redirected to http://www.example.com/assignments
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/assignments" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL  ORDER BY name, last_name, first_name, start_date DESC, end_date DESC LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."end_date" IS NULL
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  Rendered assignments/_assignment_list.html.erb (17.7ms)
  Rendered assignments/_current_assignments.html.erb (18.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id" WHERE ("assignments"."end_date" IS NOT NULL)  ORDER BY last_name, first_name, name LIMIT 15 OFFSET 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered assignments/_assignment_list.html.erb (14.3ms)
  Rendered assignments/_past_assignments.html.erb (15.4ms)
  Rendered partials/_index_structure_2.html.erb (34.4ms)
  Rendered assignments/index.html.erb within layouts/application (34.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 38ms (Views: 35.5ms | ActiveRecord: 1.9ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0280522329"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5141873187"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '112744127' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112744127"], ["date_of_birth", "1997-05-02"], ["phone", "2778745189"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "4428807554"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '004044124' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "004044124"], ["date_of_birth", "2000-05-02"], ["phone", "2870523031"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '145993157' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "145993157"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '001080018' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "001080018"], ["date_of_birth", "1986-05-02"], ["phone", "2175045074"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '152908938' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "152908938"], ["date_of_birth", "1997-05-02"], ["phone", "2981405567"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '292014183' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "292014183"], ["date_of_birth", "1995-12-02"], ["phone", "7635152317"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '009339882' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "009339882"], ["date_of_birth", "1996-11-02"], ["phone", "8594209953"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '252507110' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "252507110"], ["date_of_birth", "1996-05-02"], ["phone", "9885746772"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/assignments/new" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#new as HTML
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (7.6ms)
  Rendered partials/_display_form.html.erb (7.8ms)
  Rendered assignments/new.html.erb within layouts/application (7.9ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.2ms)
Started POST "/assignments" for 127.0.0.1 at 2016-05-02 11:36:46 -0400
Processing by AssignmentsController#create as HTML
  Parameters: {"utf8"=>"✓", "assignment"=>{"store_id"=>"", "employee_id"=>"21", "start_date(2i)"=>"5", "start_date(3i)"=>"2", "start_date(1i)"=>"2016", "pay_level"=>"2"}, "commit"=>"Create Assignment"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (6.5ms)
  Rendered partials/_display_form.html.erb (6.6ms)
  Rendered assignments/new.html.erb within layouts/application (6.7ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1273290328"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5868351255"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '122407118' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122407118"], ["date_of_birth", "1997-05-02"], ["phone", "0714789494"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "6007008407"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371001776' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "371001776"], ["date_of_birth", "2000-05-02"], ["phone", "6944060732"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '089543901' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "089543901"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '173932486' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "173932486"], ["date_of_birth", "1986-05-02"], ["phone", "5174694589"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '027647730' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "027647730"], ["date_of_birth", "1997-05-02"], ["phone", "7704563198"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '337155870' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "337155870"], ["date_of_birth", "1995-12-02"], ["phone", "4915439745"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '203316613' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "203316613"], ["date_of_birth", "1996-11-02"], ["phone", "6945332855"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '201845735' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "201845735"], ["date_of_birth", "1996-05-02"], ["phone", "2516438201"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/assignments/new" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by AssignmentsController#new as HTML
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (6.4ms)
  Rendered partials/_display_form.html.erb (6.6ms)
  Rendered assignments/new.html.erb within layouts/application (6.7ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.2ms)
Started POST "/assignments" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by AssignmentsController#create as HTML
  Parameters: {"utf8"=>"✓", "assignment"=>{"store_id"=>"3", "employee_id"=>"", "start_date(2i)"=>"5", "start_date(3i)"=>"2", "start_date(1i)"=>"2016", "pay_level"=>"2"}, "commit"=>"Create Assignment"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  ORDER BY last_name, first_name[0m  [["active", "t"]]
  Rendered assignments/_form.html.erb (6.3ms)
  Rendered partials/_display_form.html.erb (6.4ms)
  Rendered assignments/new.html.erb within layouts/application (6.5ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3109110782"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5672361340"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '243827265' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "243827265"], ["date_of_birth", "1997-05-02"], ["phone", "0035930429"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9923743544"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '077365195' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "077365195"], ["date_of_birth", "2000-05-02"], ["phone", "8063773901"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '045385269' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "045385269"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368648111' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "368648111"], ["date_of_birth", "1986-05-02"], ["phone", "6713908342"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '165781302' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "165781302"], ["date_of_birth", "1997-05-02"], ["phone", "8622120449"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '357890363' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "357890363"], ["date_of_birth", "1995-12-02"], ["phone", "4941404920"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '078161371' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "078161371"], ["date_of_birth", "1996-11-02"], ["phone", "0765246307"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '280196887' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "280196887"], ["date_of_birth", "1996-05-02"], ["phone", "3169004589"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/stores/6" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by StoresController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 6]]
  Rendered stores/_store_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 6]]
  Rendered partials/_object_options.html.erb (0.8ms)
  Rendered stores/show.html.erb within layouts/application (1.9ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0510828168"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4688958851"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '172848771' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "172848771"], ["date_of_birth", "1997-05-02"], ["phone", "4197302259"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "0720348248"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '146114476' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "146114476"], ["date_of_birth", "2000-05-02"], ["phone", "5177727339"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '160458062' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "160458062"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '106525927' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "106525927"], ["date_of_birth", "1986-05-02"], ["phone", "5909623289"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '270968931' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "270968931"], ["date_of_birth", "1997-05-02"], ["phone", "9332465506"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '066642197' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "066642197"], ["date_of_birth", "1995-12-02"], ["phone", "6827653040"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '071858592' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "071858592"], ["date_of_birth", "1996-11-02"], ["phone", "5676166795"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '108674262' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "108674262"], ["date_of_birth", "1996-05-02"], ["phone", "7444815351"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/23" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 23]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 23]]
  Rendered partials/_object_options.html.erb (0.5ms)
  Rendered employees/show.html.erb within layouts/application (1.4ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5867459626"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0061552047"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.0ms)
  Rendered home/home.html.erb within layouts/application (0.2ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.7ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started GET "/stores" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by StoresController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (3.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (0.9ms)
  Rendered partials/_index_structure.html.erb (4.2ms)
  Rendered stores/index.html.erb within layouts/application (4.3ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.4ms)
Started GET "/employees" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by EmployeesController#index as HTML
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  Rendered employees/_current_employees.html.erb (0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "f"]]
  Rendered employees/_inactive_employees.html.erb (0.4ms)
  Rendered partials/_index_structure.html.erb (1.3ms)
  Rendered employees/index.html.erb within layouts/application (1.4ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6309145916"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9365107002"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.0ms)
  Rendered home/home.html.erb within layouts/application (0.2ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/stores" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by StoresController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (3.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (1.2ms)
  Rendered partials/_index_structure.html.erb (5.4ms)
  Rendered stores/index.html.erb within layouts/application (5.7ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0120622781"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8810630510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '093879280' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "093879280"], ["date_of_birth", "1997-05-02"], ["phone", "1765665886"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-02"], ["phone", "9619799539"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '115930181' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "115930181"], ["date_of_birth", "2000-05-02"], ["phone", "0124287159"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '290421005' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "290421005"], ["date_of_birth", "1997-05-02"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '272531705' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "272531705"], ["date_of_birth", "1986-05-02"], ["phone", "2594762983"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '163840799' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "163840799"], ["date_of_birth", "1997-05-02"], ["phone", "1893616145"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-02"], ["end_date", "2016-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-02"], ["end_date", "2015-11-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Convention Center' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Convention Center"], ["street", "1000 Fort Duquesne Blvd"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15222"], ["phone", "4122683665"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'ACAC' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "ACAC"], ["street", "250 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Bistro' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Bistro"], ["street", "325 East Ohio"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15212"], ["phone", "4122683265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-02"], ["role", "manager"], ["phone", ""]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '233188621' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Angela"], ["last_name", "Liu"], ["ssn", "233188621"], ["date_of_birth", "1995-12-02"], ["phone", "9524212893"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '172780068' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Allie"], ["last_name", "Wilson"], ["ssn", "172780068"], ["date_of_birth", "1996-11-02"], ["phone", "8266991444"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '046823894' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jake"], ["last_name", "Correa"], ["ssn", "046823894"], ["date_of_birth", "1996-05-02"], ["phone", "5109800453"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567890' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jon"], ["last_name", "Hersh"], ["ssn", "234567890"], ["date_of_birth", "1989-05-02"], ["phone", "4122683259"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567891' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ari"], ["last_name", "Rubinstein"], ["ssn", "234567891"], ["date_of_birth", "1991-05-02"], ["phone", "4122683258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234567892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stafford"], ["last_name", "Brunk"], ["ssn", "234567892"], ["date_of_birth", "1993-05-02"], ["phone", "4122683257"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345678901' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "David"], ["last_name", "Porter"], ["ssn", "345678901"], ["date_of_birth", "1998-12-02"], ["phone", "7243694550"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '456789012' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Peter"], ["last_name", "Holt"], ["ssn", "456789012"], ["date_of_birth", "1998-02-02"], ["phone", "4122683692"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '567890123' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Evan"], ["last_name", "Schell"], ["ssn", "567890123"], ["date_of_birth", "1992-03-15"], ["phone", "4122684209"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '678901234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Stephen"], ["last_name", "Miller"], ["ssn", "678901234"], ["date_of_birth", "1994-05-02"], ["phone", "4122685502"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '789012345' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Jeremy"], ["last_name", "Davis"], ["ssn", "789012345"], ["date_of_birth", "1999-09-02"], ["phone", "7243649946"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '890123456' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Johnny"], ["last_name", "Daigle"], ["ssn", "890123456"], ["date_of_birth", "1998-04-02"], ["phone", "7242372621"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '901234567' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Amanda"], ["last_name", "Olbeter"], ["ssn", "901234567"], ["date_of_birth", "1998-03-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012345678' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Heather"], ["last_name", "Wakeley"], ["ssn", "012345678"], ["date_of_birth", "1999-12-02"], ["phone", "7243692531"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '098765432' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Taylor"], ["last_name", "Olbeter"], ["ssn", "098765432"], ["date_of_birth", "2000-01-02"], ["phone", "7244234388"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084213091' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "084213091"], ["date_of_birth", "1993-01-25"], ["phone", "7247133333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 8]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 8], ["start_date", "2013-05-02"], ["end_date", "2015-11-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 9], ["start_date", "2013-05-02"], ["end_date", "2014-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 10]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 10], ["start_date", "2014-05-02"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 13]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 13], ["start_date", "2015-03-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 9]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 9], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 18], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 19]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 5], ["employee_id", 19], ["start_date", "2011-11-22"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 20], ["start_date", "2012-04-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 21]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 21], ["start_date", "2014-02-02"], ["end_date", "2016-03-28"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 22]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 5], ["employee_id", 22], ["start_date", "2015-05-02"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2012-05-02"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 7]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')[0m  [["assignment_id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2014-02-02"], ["id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 7], ["start_date", "2014-02-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-07-02"], ["id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 7], ["start_date", "2015-07-02"], ["pay_level", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 11], ["start_date", "2014-02-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 14]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 4], ["employee_id", 14], ["start_date", "2015-01-02"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 15], ["start_date", "2015-05-02"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 16]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 5], ["employee_id", 16], ["start_date", "2012-05-02"], ["end_date", "2014-05-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 16]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 16], ["start_date", "2014-05-02"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 17]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 4], ["employee_id", 17], ["start_date", "2014-05-02"], ["end_date", "2016-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 12]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 4], ["employee_id", 12], ["start_date", "2014-02-02"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 12]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-02')  [["assignment_id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2015-03-02"], ["id", 25]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 12], ["start_date", "2015-03-02"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/employees/7" for 127.0.0.1 at 2016-05-02 11:36:47 -0400
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 7]]
  Rendered employees/_employee_details.html.erb (0.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 5 OFFSET 0  [["employee_id", 7]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered employees/_assignment_history.html.erb (2.1ms)
  Rendered partials/_object_options.html.erb (0.4ms)
  Rendered employees/show.html.erb within layouts/application (3.4ms)
  Rendered partials/_nav.html.erb (0.3ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "assignments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "store_id" integer, "employee_id" integer, "start_date" date, "end_date" date, "pay_level" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "employees" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "ssn" varchar, "date_of_birth" date, "phone" varchar, "role" varchar, "active" boolean DEFAULT 't') [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "flavors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "active" boolean DEFAULT 't') 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "jobs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "active" boolean DEFAULT 't') [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "shift_jobs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "job_id" integer, "shift_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "shifts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "assignment_id" integer, "date" date, "start_time" time, "end_time" time, "notes" text) [0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "store_flavors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "store_id" integer, "flavor_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stores" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street" varchar, "city" varchar, "state" varchar, "zip" varchar, "phone" varchar, "latitude" float, "longitude" float, "active" boolean DEFAULT 't') [0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "employee_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160503030230')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160129152059')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160129152216')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160129153237')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160309135844')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160309135915')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160309135938')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160309140216')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160309140243')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160309140307')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160502154832')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_: User should require unique value for email. 
-------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("email", "password_digest") VALUES (?, ?)  [["email", "a"], ["password_digest", "$2a$04$Fuhl2rvrjl6Wj6LhOmuCCuyvuGav8KyinZUX8JSv9IvL/si6uFpfG"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred123@fred.gov". 
--------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred123@fred.gov') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "my_fred@fred.org". 
--------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my_fred@fred.org') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
UserTest: test_: Creating a context for users should destroy user if employee destroyed. 
-----------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381516824' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "381516824"], ["date_of_birth", "1997-05-03"], ["phone", "4656221884"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5095183085"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '015072219' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "015072219"], ["date_of_birth", "2000-05-03"], ["phone", "5835850313"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '075240403' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "075240403"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '273101760' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "273101760"], ["date_of_birth", "1986-05-03"], ["phone", "2936069095"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '341591581' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "341591581"], ["date_of_birth", "1997-05-03"], ["phone", "0052748737"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ed@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "ed@example.com"], ["employee_id", 1], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cindy@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "cindy@example.com"], ["employee_id", 2], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ben@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "ben@example.com"], ["employee_id", 4], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alex@example.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "alex@example.com"], ["employee_id", 6], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359855' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "role", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Melanie"], ["last_name", "Freeman"], ["ssn", "084359855"], ["date_of_birth", "1997-04-03"], ["role", "manager"], ["phone", ""]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('mdf@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "mdf@example.com"], ["employee_id", 7], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-03')[0m  [["employee_id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 7]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 7]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred@fred.com". 
-----------------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "my.fred@fred.net". 
--------------------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my.fred@fred.net') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred.con". 
---------------------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.con') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------
UserTest: test_: Creating a context for users should shows that only active employees can have users. 
------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350805676' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350805676"], ["date_of_birth", "1997-05-03"], ["phone", "8701687275"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "4931158194"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '042607792' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "042607792"], ["date_of_birth", "2000-05-03"], ["phone", "1489290024"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253390065' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "253390065"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '240884280' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "240884280"], ["date_of_birth", "1986-05-03"], ["phone", "3723531781"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '169613184' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "169613184"], ["date_of_birth", "1997-05-03"], ["phone", "8508981697"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ed@example.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "ed@example.com"], ["employee_id", 1], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('cindy@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "cindy@example.com"], ["employee_id", 2], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ben@example.com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)  [["email", "ben@example.com"], ["employee_id", 4], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alex@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "employee_id", "password_digest") VALUES (?, ?, ?)[0m  [["email", "alex@example.com"], ["employee_id", 6], ["password_digest", "$2a$10$o6xZS3B73OZ8GqRoM6uGPOEzZL0pOh6Yhk3qIMp2Qr2Fap.bshK5S"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('usermail1@example.com') LIMIT 1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '055690561' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('usermail2@example.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred,com". 
---------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred,com') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "my fred@fred.com". 
------------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('my fred@fred.com') LIMIT 1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UserTest: test_: User should allow email to be set to "fred@andrew.cmu.edu". 
-----------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@andrew.cmu.edu') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred". 
------------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred') LIMIT 1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
UserTest: test_: User should not allow email to be set to "fred@fred.uk". 
--------------------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('fred@fred.uk') LIMIT 1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
UserTest: test_: User should belong to employee. 
-------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
StoresControllerTest: test_should_create_a_new_store
----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1226550829"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5958951523"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "stores"
Processing by StoresController#create as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "name"=>"Porter", "phone"=>"4122683259", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}}
Redirected to 
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
StoresControllerTest: test_should_show_store_and_the_current_assingments_at_at_store
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7917186692"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1499754505"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '292383469' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "292383469"], ["date_of_birth", "1997-05-03"], ["phone", "2198732213"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6259433250"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '249196345' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "249196345"], ["date_of_birth", "2000-05-03"], ["phone", "2301335971"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '331373963' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "331373963"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '009264598' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "009264598"], ["date_of_birth", "1986-05-03"], ["phone", "3520417588"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '116569065' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "116569065"], ["date_of_birth", "1997-05-03"], ["phone", "2607810237"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.8ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.3ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by StoresController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  Rendered stores/_store_details.html.erb (4.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 3]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  ORDER BY last_name, first_name LIMIT 8 OFFSET 0  [["store_id", 3]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  Rendered stores/_assigned_employees.html.erb (3.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "flavors" INNER JOIN "store_flavors" ON "flavors"."id" = "store_flavors"."flavor_id" WHERE "store_flavors"."store_id" = ? AND "flavors"."active" = ?[0m  [["store_id", 3], ["active", "t"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."store_id" = ? AND (date >= '2016-05-03')  [["store_id", 3]]
  Rendered partials/_object_options.html.erb (1.5ms)
  Rendered stores/show.html.erb within layouts/application (24.8ms)
  Rendered partials/_nav.html.erb (0.8ms)
  Rendered partials/_flash.html.erb (0.3ms)
  Rendered partials/_footer.html.erb (0.5ms)
Completed 200 OK in 2109ms (Views: 2088.6ms | ActiveRecord: 0.9ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
StoresControllerTest: test_should_get_new
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6741092033"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4011642315"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by StoresController#new as HTML
Redirected to 
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
StoresControllerTest: test_should_update_a_store
------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4004227638"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1645285223"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by StoresController#update as HTML
  Parameters: {"store"=>{"active"=>true, "city"=>"Pittsburgh", "name"=>"CMU", "phone"=>"4122688211", "state"=>"PA", "street"=>"5000 Forbes Avenue", "zip"=>"15213"}, "id"=>"3"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
Redirected to 
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
StoresControllerTest: test_should_get_edit
------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3750242054"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9214753758"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by StoresController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
StoresControllerTest: test_should_get_index
-------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6776068784"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1664996782"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by StoresController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL  [["store_id", 3]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."store_id" = ? AND "assignments"."end_date" IS NULL[0m  [["store_id", 1]]
  Rendered stores/_active_stores.html.erb (3.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?  [["active", "f"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name LIMIT 10 OFFSET 0[0m  [["active", "f"]]
  Rendered stores/_inactive_stores.html.erb (2.4ms)
  Rendered partials/_index_structure.html.erb (10.3ms)
  Rendered stores/index.html.erb within layouts/application (16.1ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 0.6ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
StoresControllerTest: test_should_destroy_store
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9751999388"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2153205356"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "stores"[0m
Processing by StoresController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
Redirected to 
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
ShiftTest: test_: Shift should belong to assignment. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a callback which sets end time to three hours on create, but not on update. 
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3965583486"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5409076787"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '008765713' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "008765713"], ["date_of_birth", "1997-05-03"], ["phone", "2018622646"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9653452952"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '072832193' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "072832193"], ["date_of_birth", "2000-05-03"], ["phone", "9637768533"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '352831940' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "352831940"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '216477002' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "216477002"], ["date_of_birth", "1986-05-03"], ["phone", "6549196355"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368787151' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "368787151"], ["date_of_birth", "1997-05-03"], ["phone", "2290375899"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "notes", "end_time") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2000-01-01 19:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."], ["end_time", "2000-01-01 22:00:00.000000"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "notes" = ?, "start_time" = ? WHERE "shifts"."id" = ?[0m  [["notes", "She did a good job today."], ["start_time", "2000-01-01 17:00:00.000000"], ["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for past shifts. 
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2327980531"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0471729824"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '267721227' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "267721227"], ["date_of_birth", "1997-05-03"], ["phone", "3908652553"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5777469600"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '362946948' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "362946948"], ["date_of_birth", "2000-05-03"], ["phone", "6172606045"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '174781218' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "174781218"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '043135077' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "043135077"], ["date_of_birth", "1986-05-03"], ["phone", "7842364070"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '277325332' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "277325332"], ["date_of_birth", "1997-05-03"], ["phone", "3664080055"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date < '2016-05-03')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order by store name. 
--------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0126074498"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2116040237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '068751703' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "068751703"], ["date_of_birth", "1997-05-03"], ["phone", "2575274746"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7013659846"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '371402199' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "371402199"], ["date_of_birth", "2000-05-03"], ["phone", "6515857563"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '143615130' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "143615130"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '008196358' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "008196358"], ["date_of_birth", "1986-05-03"], ["phone", "7102894858"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '376989063' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "376989063"], ["date_of_birth", "1997-05-03"], ["phone", "4799727710"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id"  ORDER BY stores.name
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" INNER JOIN "assignments" ON "stores"."id" = "assignments"."store_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_next_days. 
------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9068651670"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2295198725"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '386619956' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "386619956"], ["date_of_birth", "1997-05-03"], ["phone", "6907890268"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "4604475649"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '229093084' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "229093084"], ["date_of_birth", "2000-05-03"], ["phone", "8761519402"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '150074310' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "150074310"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '384830333' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "384830333"], ["date_of_birth", "1986-05-03"], ["phone", "6681651080"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '050474261' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "050474261"], ["date_of_birth", "1997-05-03"], ["phone", "3979600699"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.3ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-03' AND '2016-05-03')[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-03' AND '2016-05-05')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift are only given to current assignments. 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9340253445"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2768933620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '269561110' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "269561110"], ["date_of_birth", "1997-05-03"], ["phone", "4777907275"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6177782277"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '038875334' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "038875334"], ["date_of_birth", "2000-05-03"], ["phone", "6139047090"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '214716755' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "214716755"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '298428242' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "298428242"], ["date_of_birth", "1986-05-03"], ["phone", "2018917184"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '050991799' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "050991799"], ["date_of_birth", "1997-05-03"], ["phone", "8822883109"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.3ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.6ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.3ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.3ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for incomplete shifts. 
-------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4458385719"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4052312119"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '296133938' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296133938"], ["date_of_birth", "1997-05-03"], ["phone", "4552865841"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8601199632"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '213173235' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "213173235"], ["date_of_birth", "2000-05-03"], ["phone", "2133781845"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '060035871' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "060035871"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '185239229' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "185239229"], ["date_of_birth", "1986-05-03"], ["phone", "9855438827"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '083498430' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "083498430"], ["date_of_birth", "1997-05-03"], ["phone", "1763231880"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.2ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.2ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.2ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.6ms)[0m  SELECT "shifts".* FROM "shifts" LEFT JOIN shift_jobs ON shifts.id = shift_jobs.shift_id WHERE (shift_jobs.job_id IS NULL)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order chronologically. 
----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6012774344"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3237618378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '255552889' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "255552889"], ["date_of_birth", "1997-05-03"], ["phone", "5725637988"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9868262180"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '313884932' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "313884932"], ["date_of_birth", "2000-05-03"], ["phone", "6038276365"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '334964532' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "334964532"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '218758707' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "218758707"], ["date_of_birth", "1986-05-03"], ["phone", "4893272135"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '335632701' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "335632701"], ["date_of_birth", "1997-05-03"], ["phone", "1952683669"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"  ORDER BY "shifts"."date" ASC, "shifts"."start_time" ASC
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should only accept date data for date field. 
---------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6485079872"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4217049884"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '178215914' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "178215914"], ["date_of_birth", "1997-05-03"], ["phone", "7381355321"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7943054751"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '301728707' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "301728707"], ["date_of_birth", "2000-05-03"], ["phone", "6331857508"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '207624805' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "207624805"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '021391703' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "021391703"], ["date_of_birth", "1986-05-03"], ["phone", "2880177516"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '140411193' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "140411193"], ["date_of_birth", "1997-05-03"], ["phone", "4450878604"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (1.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_employee. 
-----------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5306855710"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0703886816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '072379062' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "072379062"], ["date_of_birth", "1997-05-03"], ["phone", "1873594626"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3381701103"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '240295424' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "240295424"], ["date_of_birth", "2000-05-03"], ["phone", "3309557750"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '134892107' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "134892107"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '032255914' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "032255914"], ["date_of_birth", "1986-05-03"], ["phone", "1795449461"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '103140470' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "103140470"], ["date_of_birth", "1997-05-03"], ["phone", "3869009852"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 4)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a completed? method that works properly. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6892433739"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0735325213"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '346058134' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346058134"], ["date_of_birth", "1997-05-03"], ["phone", "9842912956"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5116571523"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '132907285' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "132907285"], ["date_of_birth", "2000-05-03"], ["phone", "5763301727"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '088638361' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "088638361"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '210816892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "210816892"], ["date_of_birth", "1986-05-03"], ["phone", "5019266895"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '241873631' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "241873631"], ["date_of_birth", "1997-05-03"], ["phone", "0243515666"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.2ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.2ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 11], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShiftJob Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ? LIMIT 1[0m  [["shift_id", 8]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?  [["shift_id", 8]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?[0m  [["shift_id", 9]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shift_jobs" WHERE "shift_jobs"."shift_id" = ?  [["shift_id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_store. 
--------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0974876908"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9141170003"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '383166349' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "383166349"], ["date_of_birth", "1997-05-03"], ["phone", "8538606258"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1237489189"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '178597061' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "178597061"], ["date_of_birth", "2000-05-03"], ["phone", "1226551724"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '213619283' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "213619283"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '361156033' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "361156033"], ["date_of_birth", "1986-05-03"], ["phone", "4893982346"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '194707263' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "194707263"], ["date_of_birth", "1997-05-03"], ["phone", "1542274023"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id" WHERE (assignments.store_id = 3)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "stores" ON "stores"."id" = "assignments_shifts_join"."store_id" WHERE (assignments.store_id = 1)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope called for_past_days. 
------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3978870151"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6895782400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '073523143' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "073523143"], ["date_of_birth", "1997-05-03"], ["phone", "5686651256"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1074285782"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '225545633' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "225545633"], ["date_of_birth", "2000-05-03"], ["phone", "0270903081"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '249016362' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "249016362"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '264224029' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "264224029"], ["date_of_birth", "1986-05-03"], ["phone", "7653902022"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '036934068' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "036934068"], ["date_of_birth", "1997-05-03"], ["phone", "6765242437"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-02' AND '2016-05-02')
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-05-01' AND '2016-05-02')[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date BETWEEN '2016-04-30' AND '2016-05-02')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should correctly calculate the duration of a shift. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9123450142"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2837397327"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '331464254' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "331464254"], ["date_of_birth", "1997-05-03"], ["phone", "7179377662"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3452835782"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '323097460' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "323097460"], ["date_of_birth", "2000-05-03"], ["phone", "1299851592"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '068858200' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "068858200"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '295487728' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "295487728"], ["date_of_birth", "1986-05-03"], ["phone", "0715647196"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012688022' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "012688022"], ["date_of_birth", "1997-05-03"], ["phone", "6332790704"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have start_now method that updates database. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6072125739"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9777532522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '291005606' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "291005606"], ["date_of_birth", "1997-05-03"], ["phone", "1757037767"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5775576945"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '086054045' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "086054045"], ["date_of_birth", "2000-05-03"], ["phone", "1693559431"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '205144262' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "205144262"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '340253100' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "340253100"], ["date_of_birth", "1986-05-03"], ["phone", "9137891192"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '292711259' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "292711259"], ["date_of_birth", "1997-05-03"], ["phone", "8302142704"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "start_time" = ? WHERE "shifts"."id" = ?  [["start_time", "2016-05-04 01:48:42.028100"], ["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT  "shifts".* FROM "shifts" WHERE "shifts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope to order by employee name. 
-----------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6977833905"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8067501207"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '047839333' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "047839333"], ["date_of_birth", "1997-05-03"], ["phone", "6827704927"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5929719749"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '052478651' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "052478651"], ["date_of_birth", "2000-05-03"], ["phone", "1260715962"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '042755102' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "042755102"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '060074252' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "060074252"], ["date_of_birth", "1986-05-03"], ["phone", "4811068856"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '000223887' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "000223887"], ["date_of_birth", "1997-05-03"], ["phone", "2962862643"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.2ms)[0m  [1mSELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id"  ORDER BY employees.last_name, employees.first_name[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" INNER JOIN "assignments" ON "employees"."id" = "assignments"."employee_id" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should allow end time can be nil. 
----------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1751858566"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6730946253"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '274032260' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "274032260"], ["date_of_birth", "1997-05-03"], ["phone", "3189597684"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1595140529"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '045009440' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "045009440"], ["date_of_birth", "2000-05-03"], ["phone", "1765025345"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '251463654' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "251463654"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '272534450' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "272534450"], ["date_of_birth", "1986-05-03"], ["phone", "7016222541"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '170431051' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "170431051"], ["date_of_birth", "1997-05-03"], ["phone", "0996731386"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
ShiftTest: test_: Shift should have one store through assignment. 
------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to 3.14159. 
--------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift dates do not precede the assignment start date. 
-------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0029030569"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5352778626"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '097405000' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "097405000"], ["date_of_birth", "1997-05-03"], ["phone", "0412956268"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0963688237"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '303514085' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "303514085"], ["date_of_birth", "2000-05-03"], ["phone", "1421548790"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '070483214' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "070483214"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '269221787' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "269221787"], ["date_of_birth", "1986-05-03"], ["phone", "3633705307"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '035181969' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "035181969"], ["date_of_birth", "1997-05-03"], ["phone", "9603130186"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a class method for find not completed shifts. 
----------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8844960468"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2695680800"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '222142545' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222142545"], ["date_of_birth", "1997-05-03"], ["phone", "9293872512"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3508846757"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '234237508' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "234237508"], ["date_of_birth", "2000-05-03"], ["phone", "9024631597"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '214900634' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "214900634"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '320732884' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "320732884"], ["date_of_birth", "1986-05-03"], ["phone", "3522349971"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '009037151' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "009037151"], ["date_of_birth", "1997-05-03"], ["phone", "0690869665"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 11], ["job_id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "shift_jobs" ON "shift_jobs"."shift_id" = "shifts"."id" GROUP BY "shift_id"
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for upcoming shifts. 
-----------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0362014185"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9199169041"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '051435578' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "051435578"], ["date_of_birth", "1997-05-03"], ["phone", "5456299747"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5225187885"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '121411683' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "121411683"], ["date_of_birth", "2000-05-03"], ["phone", "3591896170"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '313455625' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "313455625"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '381189477' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "381189477"], ["date_of_birth", "1986-05-03"], ["phone", "0946358858"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '281481235' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "281481235"], ["date_of_birth", "1997-05-03"], ["phone", "2720024129"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE (date >= '2016-05-03')
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
ShiftTest: test_: Shift should have many shift_jobs. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should not allow date to be nil. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3226285439"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9435557504"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '322257041' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "322257041"], ["date_of_birth", "1997-05-03"], ["phone", "1344680706"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3374297813"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '159413184' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "159413184"], ["date_of_birth", "2000-05-03"], ["phone", "3514753582"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '295302435' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "295302435"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '298015241' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "298015241"], ["date_of_birth", "1986-05-03"], ["phone", "0783882957"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '280069422' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "280069422"], ["date_of_birth", "1997-05-03"], ["phone", "3601974139"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to Tue, 03 May 2016 22:48:37 EDT -04:00. 
---------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to nil. 
----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should only accept time data for end time. 
-------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1445289652"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4933579468"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '327960473' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "327960473"], ["date_of_birth", "1997-05-03"], ["phone", "4568057165"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0510737117"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '281923137' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "281923137"], ["date_of_birth", "2000-05-03"], ["phone", "9947010930"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '168129551' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "168129551"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '179570076' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "179570076"], ["date_of_birth", "1986-05-03"], ["phone", "5220900208"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '050368469' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "050368469"], ["date_of_birth", "1997-05-03"], ["phone", "4066978682"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should ensure that shift end times do not precede the shift start time. 
------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3183151620"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4345132904"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '210553617' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "210553617"], ["date_of_birth", "1997-05-03"], ["phone", "9315102863"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3879391587"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368264915' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "368264915"], ["date_of_birth", "2000-05-03"], ["phone", "3028766332"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '362165796' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "362165796"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '106245325' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "106245325"], ["date_of_birth", "1986-05-03"], ["phone", "5342747392"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '224961148' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "224961148"], ["date_of_birth", "1997-05-03"], ["phone", "1704977720"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have end_now method that updates database. 
--------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5291154836"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4293876519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '150892845' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "150892845"], ["date_of_birth", "1997-05-03"], ["phone", "8440199141"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3803280657"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '103036976' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "103036976"], ["date_of_birth", "2000-05-03"], ["phone", "3416770218"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '100053096' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "100053096"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '059562065' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "059562065"], ["date_of_birth", "1986-05-03"], ["phone", "1877390679"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350068568' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "350068568"], ["date_of_birth", "1997-05-03"], ["phone", "5575272529"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.2ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "end_time" = ? WHERE "shifts"."id" = ?  [["end_time", "2016-05-04 01:48:42.914364"], ["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT  "shifts".* FROM "shifts" WHERE "shifts"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to 2016-05-03 21:48:37 -0400. 
----------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
ShiftTest: test_: Shift should have many jobs through shift_jobs. 
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
ShiftTest: test_: Shift should not allow start_time to be set to "fred". 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
ShiftTest: test_: Shift should have one employee through assignment. 
---------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ShiftTest: test_: Creating a context for shifts should have a scope for completed shifts. 
------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0599501054"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8877101241"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '314227746' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "314227746"], ["date_of_birth", "1997-05-03"], ["phone", "1313552922"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6676935880"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '184295486' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "184295486"], ["date_of_birth", "2000-05-03"], ["phone", "6838085705"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '087295541' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "087295541"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '071043380' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "071043380"], ["date_of_birth", "1986-05-03"], ["phone", "7740844562"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '289762940' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "289762940"], ["date_of_birth", "1997-05-03"], ["phone", "4950808359"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "shift_jobs" ON "shift_jobs"."shift_id" = "shifts"."id" GROUP BY "shift_id"
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ShiftTest: test_: Shift should allow start_time to be set to Tue, 03 May 2016 19:48:37 EDT -04:00. 
---------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "manager". 
------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to nil. 
----------------------------------------------------------------------
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "412-2683-259". 
----------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should show there are two employees under 18. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '374105294' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374105294"], ["date_of_birth", "1997-05-03"], ["phone", "1980501587"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6337041540"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '313573020' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "313573020"], ["date_of_birth", "2000-05-03"], ["phone", "2132746842"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '176344970' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "176344970"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '275417287' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "275417287"], ["date_of_birth", "1986-05-03"], ["phone", "4004276983"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '336151176' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "336151176"], ["date_of_birth", "1997-05-03"], ["phone", "7324678606"], ["role", "admin"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE (date_of_birth > '1998-05-03')
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE (date_of_birth > '1998-05-03')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (5.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are five active employees. 
---------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '129398113' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "129398113"], ["date_of_birth", "1997-05-03"], ["phone", "0169723155"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1177958343"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079124482' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "079124482"], ["date_of_birth", "2000-05-03"], ["phone", "7996189721"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '033390922' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "033390922"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '267558979' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "267558979"], ["date_of_birth", "1986-05-03"], ["phone", "6684973924"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '385144467' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "385144467"], ["date_of_birth", "1997-05-03"], ["phone", "8065843408"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
EmployeeTest: test_: Employee should require last_name to be set. 
------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows name as last, first name. 
---------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '116788189' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116788189"], ["date_of_birth", "1997-05-03"], ["phone", "0514784112"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6942502709"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '091336871' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "091336871"], ["date_of_birth", "2000-05-03"], ["phone", "8088703669"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350000452' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "350000452"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '278421234' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "278421234"], ["date_of_birth", "1986-05-03"], ["phone", "9247972483"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '320702517' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "320702517"], ["date_of_birth", "1997-05-03"], ["phone", "0173762824"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Mon, 03 May 1999. 
----------------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "12345678". 
----------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '12345678' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
EmployeeTest: test_: Employee should require role to be set. 
-------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Fri, 03 May 2002. 
----------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
EmployeeTest: test_: Employee should require date_of_birth to be set. 
----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should properly handle case of employee with no past shifts. 
-------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '080982410' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "080982410"], ["date_of_birth", "1997-05-03"], ["phone", "5442207459"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0560521491"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '188457099' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "188457099"], ["date_of_birth", "2000-05-03"], ["phone", "8070306024"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '085584131' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "085584131"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '173716025' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "173716025"], ["date_of_birth", "1986-05-03"], ["phone", "4749118898"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '141936663' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "141936663"], ["date_of_birth", "1997-05-03"], ["phone", "6594204669"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7466316411"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3601053436"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 2)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-03') AND (assignments.employee_id = 2)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-03')  [["employee_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."employee_id" = ? LIMIT 1[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')[0m  [["employee_id", 2]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 2)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-03') AND (assignments.employee_id = 2)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to nil. 
-------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that Cindy's ssn is stripped of non-digits. 
---------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '235813081' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235813081"], ["date_of_birth", "1997-05-03"], ["phone", "2137185299"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8845907193"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '016237604' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "016237604"], ["date_of_birth", "2000-05-03"], ["phone", "3658261232"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079116375' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "079116375"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '175052642' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "175052642"], ["date_of_birth", "1986-05-03"], ["phone", "3451970375"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '133860749' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "133860749"], ["date_of_birth", "1997-05-03"], ["phone", "2453283706"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "(412) 268-3259". 
--------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to "bad". 
---------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "bad". 
------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "800-EAT-FOOD". 
----------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "4122683259x224". 
------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "412-268-3259". 
------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "1234567890". 
------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '1234567890' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should force employees to have unique ssn. 
-------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '003926340' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "003926340"], ["date_of_birth", "1997-05-03"], ["phone", "6738578541"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1008266919"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '205583228' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "205583228"], ["date_of_birth", "2000-05-03"], ["phone", "3500256211"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '208217882' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "208217882"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '093438897' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "093438897"], ["date_of_birth", "1986-05-03"], ["phone", "7291597528"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '212689289' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "212689289"], ["date_of_birth", "1997-05-03"], ["phone", "1984684647"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "412.268.3259". 
------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
EmployeeTest: test_: Employee should have many assignments. 
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "412/268/3259". 
----------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should have one user dependent => destroy. 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should recognize when an employee is destroyable. 
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '296555098' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "296555098"], ["date_of_birth", "1997-05-03"], ["phone", "8479413392"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9478612220"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '354271860' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "354271860"], ["date_of_birth", "2000-05-03"], ["phone", "6257248668"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '257510339' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "257510339"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '379029956' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "379029956"], ["date_of_birth", "1986-05-03"], ["phone", "9725961712"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '135593749' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "135593749"], ["date_of_birth", "1997-05-03"], ["phone", "2760324149"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6109724620"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6807041359"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-03')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 5]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-03"], ["id", 5]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-03')  [["employee_id", 2]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."employee_id" = ? LIMIT 1[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')[0m  [["employee_id", 2]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that Ben's phone is stripped of non-digits. 
---------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '265159606' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "265159606"], ["date_of_birth", "1997-05-03"], ["phone", "4915662282"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2112257008"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '300538266' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "300538266"], ["date_of_birth", "2000-05-03"], ["phone", "0879565891"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '307777073' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "307777073"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '171769002' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "171769002"], ["date_of_birth", "1986-05-03"], ["phone", "3644149256"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '215180235' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "215180235"], ["date_of_birth", "1997-05-03"], ["phone", "4760349390"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should have many stores through assignments. 
---------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that age method returns the correct value. 
--------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '011284377' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "011284377"], ["date_of_birth", "1997-05-03"], ["phone", "9195915025"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1265720150"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '220445434' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "220445434"], ["date_of_birth", "2000-05-03"], ["phone", "7131729168"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '082937537' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "082937537"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '080133328' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "080133328"], ["date_of_birth", "1986-05-03"], ["phone", "8398287741"], ["role", "manager"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '368145225' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "368145225"], ["date_of_birth", "1997-05-03"], ["phone", "6207102360"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow ssn to be set to "123456789". 
-------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '123456789' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to Sat, 03 May 2003 21:48:37 EDT -04:00. 
----------------------------------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows proper name as first and last name. 
-------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '061197792' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "061197792"], ["date_of_birth", "1997-05-03"], ["phone", "1884657200"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0484260410"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '179340159' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "179340159"], ["date_of_birth", "2000-05-03"], ["phone", "2789954451"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '367917463' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "367917463"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '223000157' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "223000157"], ["date_of_birth", "1986-05-03"], ["phone", "8595257502"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '086877279' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "086877279"], ["date_of_birth", "1997-05-03"], ["phone", "6388259303"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "vp". 
-----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should show there are four employees over 18. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '198027144' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198027144"], ["date_of_birth", "1997-05-03"], ["phone", "2151192692"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0225990623"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '087448924' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "087448924"], ["date_of_birth", "2000-05-03"], ["phone", "6510681246"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '250647059' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "250647059"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '273837651' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "273837651"], ["date_of_birth", "1986-05-03"], ["phone", "8664073011"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '235240014' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "235240014"], ["date_of_birth", "1997-05-03"], ["phone", "3462731376"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE (date_of_birth <= '1998-05-03')
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE (date_of_birth <= '1998-05-03')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
EmployeeTest: test_: Employee should require first_name to be set. 
-------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to nil. 
---------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow date_of_birth to be set to nil. 
-------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "employee". 
-------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there is one inactive employee. 
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '373966981' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373966981"], ["date_of_birth", "1997-05-03"], ["phone", "6592345407"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7111289499"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104374605' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "104374605"], ["date_of_birth", "2000-05-03"], ["phone", "2904053895"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '203841917' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "203841917"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '242259145' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "242259145"], ["date_of_birth", "1986-05-03"], ["phone", "2843408911"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '303841115' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "303841115"], ["date_of_birth", "1997-05-03"], ["phone", "5587455609"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."active" = ?  [["active", "f"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "f"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are 3 regular employees: Ed, Cindy and Ralph. 
----------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '080072385' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "080072385"], ["date_of_birth", "1997-05-03"], ["phone", "6458586513"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0809485412"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '254022148' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "254022148"], ["date_of_birth", "2000-05-03"], ["phone", "8106047412"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '070449159' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "070449159"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '064729506' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "064729506"], ["date_of_birth", "1986-05-03"], ["phone", "8696754853"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '037206051' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "037206051"], ["date_of_birth", "1997-05-03"], ["phone", "7756463361"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?  [["role", "employee"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "employee"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow phone to be set to "4122683259". 
----------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows return employee's current assignment if it exists. 
----------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '340176021' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "340176021"], ["date_of_birth", "1997-05-03"], ["phone", "6154865479"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3009528351"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '367676293' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "367676293"], ["date_of_birth", "2000-05-03"], ["phone", "1024919138"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '309358441' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "309358441"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '075899605' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "075899605"], ["date_of_birth", "1986-05-03"], ["phone", "3941334626"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '293126060' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "293126060"], ["date_of_birth", "1997-05-03"], ["phone", "9312611779"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9501692645"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4927373913"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-03"], ["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should have many shifts through assignments. 
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
EmployeeTest: test_: Employee should require ssn to be set. 
------------------------------------------------------------
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there is one admin: Alex. 
--------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '278417146' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "278417146"], ["date_of_birth", "1997-05-03"], ["phone", "4409297907"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9232414273"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '253768795' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "253768795"], ["date_of_birth", "2000-05-03"], ["phone", "7851814682"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '085235530' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "085235530"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '082665454' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "082665454"], ["date_of_birth", "1986-05-03"], ["phone", "1970893027"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084116764' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "084116764"], ["date_of_birth", "1997-05-03"], ["phone", "1320653199"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "admin"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."role" = ?  [["role", "admin"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that over_18? boolean method works. 
-------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '054973964' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "054973964"], ["date_of_birth", "1997-05-03"], ["phone", "7547523796"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6663115727"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '077769951' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "077769951"], ["date_of_birth", "2000-05-03"], ["phone", "8415191491"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '374802049' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "374802049"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247114206' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "247114206"], ["date_of_birth", "1986-05-03"], ["phone", "3813162033"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '113788362' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "113788362"], ["date_of_birth", "1997-05-03"], ["phone", "2990225716"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to 10. 
---------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "2683259". 
-----------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow role to be set to "hacker". 
---------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow ssn to be set to "bad". 
-----------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
EmployeeTest: test_: Employee should allow role to be set to "admin". 
----------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should properly handle case of employee with past shifts. 
----------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044593842' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "044593842"], ["date_of_birth", "1997-05-03"], ["phone", "8756556030"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2603455730"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '236331514' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "236331514"], ["date_of_birth", "2000-05-03"], ["phone", "4090106365"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '300237810' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "300237810"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024930600' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "024930600"], ["date_of_birth", "1986-05-03"], ["phone", "0505364149"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '357222747' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "357222747"], ["date_of_birth", "1997-05-03"], ["phone", "4266814459"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9188146458"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1473708990"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (1.3ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 5)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date < '2016-05-03') AND (assignments.employee_id = 5)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-03') AND (assignments.employee_id = 5)[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date < '2016-05-03')[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')[0m  [["employee_id", 5]]
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" INNER JOIN "assignments" ON "shifts"."assignment_id" = "assignments"."id" WHERE "assignments"."employee_id" = ? AND (date >= '2016-05-03')  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-03"], ["id", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY start_date DESC, end_date DESC LIMIT 1[0m  [["employee_id", 5]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (date >= '2016-05-03') AND (assignments.employee_id = 5)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------
EmployeeTest: test_: Employee should allow date_of_birth to be set to Thu, 03 May 2001. 
----------------------------------------------------------------------------------------
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------
EmployeeTest: test_: Creating a context for employees should shows that there are 2 managers: Ben and Kathryn. 
---------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '356304309' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "356304309"], ["date_of_birth", "1997-05-03"], ["phone", "1551760097"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5518145204"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '035127095' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "035127095"], ["date_of_birth", "2000-05-03"], ["phone", "9828584979"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '285023859' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "285023859"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '349924239' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "349924239"], ["date_of_birth", "1986-05-03"], ["phone", "0112628356"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '377407229' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "377407229"], ["date_of_birth", "1997-05-03"], ["phone", "9725349872"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "employees" WHERE "employees"."role" = ?[0m  [["role", "manager"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."role" = ?  [["role", "manager"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------
EmployeeTest: test_: Employee should not allow phone to be set to "14122683259". 
---------------------------------------------------------------------------------
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should not allow an assignment with past shifts to be destroyed. 
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7633186613"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1422804846"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '038450848' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038450848"], ["date_of_birth", "1997-05-03"], ["phone", "5982966864"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8016566678"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350034033' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "350034033"], ["date_of_birth", "2000-05-03"], ["phone", "7539014690"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '285684885' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "285684885"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '194986617' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "194986617"], ["date_of_birth", "1986-05-03"], ["phone", "0973454967"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '367331401' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "367331401"], ["date_of_birth", "1997-05-03"], ["phone", "0097583634"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')  [["assignment_id", 6]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')  [["assignment_id", 6]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-03"], ["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should remove upcoming shifts from an assignment that was attempted to be destroyed. 
-----------------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9263355275"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5840411665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '244561058' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "244561058"], ["date_of_birth", "1997-05-03"], ["phone", "2689578774"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2949932325"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '230735634' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "230735634"], ["date_of_birth", "2000-05-03"], ["phone", "6517900314"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '056795930' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "056795930"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '073847862' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "073847862"], ["date_of_birth", "1986-05-03"], ["phone", "4611478348"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '064391840' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "064391840"], ["date_of_birth", "1997-05-03"], ["phone", "1269921111"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5) AND (date >= '2016-05-03')[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.0ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-03"], ["id", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 5) AND (date >= '2016-05-03')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to nil. 
--------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow for a end date in the past (or today) but after the start date. 
---------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9208436290"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6757697858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '199782469' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "199782469"], ["date_of_birth", "1997-05-03"], ["phone", "9389844803"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1190263380"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '190931969' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "190931969"], ["date_of_birth", "2000-05-03"], ["phone", "8238708147"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '292889233' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "292889233"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '130279967' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "130279967"], ["date_of_birth", "1986-05-03"], ["phone", "0940176312"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247541958' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "247541958"], ["date_of_birth", "1997-05-03"], ["phone", "9766909562"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
AssignmentTest: test_: Assignment should belong to store. 
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope to find all current assignments for a store or employee. 
---------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5987680487"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1095694424"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '374666630' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374666630"], ["date_of_birth", "1997-05-03"], ["phone", "9148828740"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9750577267"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '168390293' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "168390293"], ["date_of_birth", "2000-05-03"], ["phone", "5494990001"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '149019686' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "149019686"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '221228221' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "221228221"], ["date_of_birth", "1986-05-03"], ["phone", "7919223699"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '126613627' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "126613627"], ["date_of_birth", "1997-05-03"], ["phone", "7370299430"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (store_id = 3)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (store_id = 1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 4)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE "assignments"."end_date" IS NULL AND (employee_id = 1)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to Tue, 10 May 2016. 
---------------------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 7. 
-----------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should end the current assignment if it exists before adding a new assignment for an employee. 
---------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2209585989"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1888210617"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '300609615' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "300609615"], ["date_of_birth", "1997-05-03"], ["phone", "9839395502"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0749494051"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '006213687' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "006213687"], ["date_of_birth", "2000-05-03"], ["phone", "0619498821"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '225369902' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "225369902"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '206598296' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "206598296"], ["date_of_birth", "1986-05-03"], ["phone", "2407626376"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '066565224' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "066565224"], ["date_of_birth", "1997-05-03"], ["phone", "1070901604"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-05-02"], ["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2016-05-02"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  ORDER BY "assignments"."id" ASC LIMIT 1[0m  [["employee_id", 5]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 4. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 5. 
-------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should identify a non-active employee as part of an invalid assignment. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9235715775"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9290704136"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '354826682' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "354826682"], ["date_of_birth", "1997-05-03"], ["phone", "2518943773"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2172914484"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '053012630' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "053012630"], ["date_of_birth", "2000-05-03"], ["phone", "4786066036"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '094891207' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "094891207"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '376374895' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "376374895"], ["date_of_birth", "1986-05-03"], ["phone", "8636948492"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '372070851' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "372070851"], ["date_of_birth", "1997-05-03"], ["phone", "0768790327"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.5ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed chronologically by start date. 
--------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9305101722"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3806403193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '366276808' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "366276808"], ["date_of_birth", "1997-05-03"], ["phone", "6059748809"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9891095649"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '355074192' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "355074192"], ["date_of_birth", "2000-05-03"], ["phone", "9004147001"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '203509587' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "203509587"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '022456480' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "022456480"], ["date_of_birth", "1986-05-03"], ["phone", "6417953436"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '195313290' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "195313290"], ["date_of_birth", "1997-05-03"], ["phone", "4700257368"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments"  ORDER BY start_date DESC, end_date DESC
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to "bad". 
---------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_employee' that works. 
---------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3333301257"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5957684024"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044521122' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "044521122"], ["date_of_birth", "1997-05-03"], ["phone", "3601753344"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3547647348"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '322393632' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "322393632"], ["date_of_birth", "2000-05-03"], ["phone", "5676488297"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '108223362' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "108223362"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '019854039' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "019854039"], ["date_of_birth", "1986-05-03"], ["phone", "2284371240"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '179764396' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "179764396"], ["date_of_birth", "1997-05-03"], ["phone", "0866537974"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (employee_id = 4)[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (employee_id = 5)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_role' that works. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4146094132"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9111070152"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '055060075' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "055060075"], ["date_of_birth", "1997-05-03"], ["phone", "2433041598"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1308036395"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '049350829' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "049350829"], ["date_of_birth", "2000-05-03"], ["phone", "9202832704"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '233122134' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "233122134"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '316132514' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "316132514"], ["date_of_birth", "1986-05-03"], ["phone", "5252482583"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '012166270' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "012166270"], ["date_of_birth", "1997-05-03"], ["phone", "1119143510"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'employee')
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (role = 'manager')[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow an assignment with no past shifts to be destroyed. 
--------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9682983999"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4447810327"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '176422433' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "176422433"], ["date_of_birth", "1997-05-03"], ["phone", "3806593400"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2900821464"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '354370591' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "354370591"], ["date_of_birth", "2000-05-03"], ["phone", "3299812899"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '327100367' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "327100367"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '356559995' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "356559995"], ["date_of_birth", "1986-05-03"], ["phone", "1744358711"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '083043286' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "083043286"], ["date_of_birth", "1997-05-03"], ["phone", "5354703721"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')[0m  [["assignment_id", 4]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')[0m  [["assignment_id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_store' that works. 
------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8290844772"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4552539616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '131416439' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "131416439"], ["date_of_birth", "1997-05-03"], ["phone", "3402646088"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2306270714"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '299157300' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "299157300"], ["date_of_birth", "2000-05-03"], ["phone", "5811009846"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '318535054' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "318535054"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '365703783' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "365703783"], ["date_of_birth", "1986-05-03"], ["phone", "7531116590"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '251425577' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "251425577"], ["date_of_birth", "1997-05-03"], ["phone", "1753991913"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (store_id = 3)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (store_id = 1)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
AssignmentTest: test_: Assignment should belong to employee. 
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope 'for_pay_level' that works. 
----------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7234718595"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9552897615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '000253056' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000253056"], ["date_of_birth", "1997-05-03"], ["phone", "4407339550"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7561243442"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '155344795' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "155344795"], ["date_of_birth", "2000-05-03"], ["phone", "5010335890"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '276527232' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "276527232"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '298092534' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "298092534"], ["date_of_birth", "1986-05-03"], ["phone", "2544631055"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '294868290' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "294868290"], ["date_of_birth", "1997-05-03"], ["phone", "3181346547"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (pay_level = 1)[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (pay_level = 2)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE (pay_level = 3)[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE (pay_level = 4)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 1. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should not allow for a end date in the future or before the start date. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2429615375"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2514091038"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '134805968' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "134805968"], ["date_of_birth", "1997-05-03"], ["phone", "1012081197"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5028517775"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '076910479' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "076910479"], ["date_of_birth", "2000-05-03"], ["phone", "2197531884"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '109717401' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "109717401"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '029254892' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "029254892"], ["date_of_birth", "1986-05-03"], ["phone", "2346877762"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '386675966' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "386675966"], ["date_of_birth", "1997-05-03"], ["phone", "2675463826"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed alphabetically by employee name. 
----------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7539452156"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8121282834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '132482649' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132482649"], ["date_of_birth", "1997-05-03"], ["phone", "9468172102"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "4592666103"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '366542700' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "366542700"], ["date_of_birth", "2000-05-03"], ["phone", "2853426402"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '002672997' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "002672997"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '332101017' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "332101017"], ["date_of_birth", "1986-05-03"], ["phone", "8522361907"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '236299563' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "236299563"], ["date_of_birth", "1997-05-03"], ["phone", "3882390983"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id"  ORDER BY last_name, first_name[0m
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should identify a non-active store as part of an invalid assignment. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4097670240"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1159106053"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '050913919' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "050913919"], ["date_of_birth", "1997-05-03"], ["phone", "6492924845"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8539540365"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '156103835' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "156103835"], ["date_of_birth", "2000-05-03"], ["phone", "3224799176"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '002696175' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "002696175"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '019695349' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "019695349"], ["date_of_birth", "1986-05-03"], ["phone", "7294632442"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '320692136' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "320692136"], ["date_of_birth", "1997-05-03"], ["phone", "6571291400"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have all the assignments listed alphabetically by store name. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0407208951"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5945859599"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '202804744' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "202804744"], ["date_of_birth", "1997-05-03"], ["phone", "1799543752"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "3902110629"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '281781994' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "281781994"], ["date_of_birth", "2000-05-03"], ["phone", "6943575305"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '207369379' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "207369379"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104313306' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "104313306"], ["date_of_birth", "1986-05-03"], ["phone", "0503095023"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '182662836' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "182662836"], ["date_of_birth", "1997-05-03"], ["phone", "4989759967"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" INNER JOIN "stores" ON "stores"."id" = "assignments"."store_id"  ORDER BY name[0m
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.0ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 0. 
-----------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow start_date to be set to "bad". 
----------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should allow a destroyable assignment has upcoming shifts removed. 
-----------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0369368767"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2564299814"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '325212289' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "325212289"], ["date_of_birth", "1997-05-03"], ["phone", "0684793867"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6742339179"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '211547763' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "211547763"], ["date_of_birth", "2000-05-03"], ["phone", "3261055175"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '144498176' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "144498176"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '069835941' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "069835941"], ["date_of_birth", "1986-05-03"], ["phone", "7318712062"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '044982262' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "044982262"], ["date_of_birth", "1997-05-03"], ["phone", "9038420189"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date < '2016-05-03')  [["assignment_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" INNER JOIN "assignments" ON "assignments"."id" = "shifts"."assignment_id" INNER JOIN "assignments" "assignments_shifts_join" ON "assignments_shifts_join"."id" = "shifts"."assignment_id" INNER JOIN "employees" ON "employees"."id" = "assignments_shifts_join"."employee_id" WHERE (assignments.employee_id = 2)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 2. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 3. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to 2.5. 
-------------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow pay_level to be set to 6. 
-------------------------------------------------------------------------
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should have a scope to find all past assignments for a store or employee. 
------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6555440474"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7771831655"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '382928053' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "382928053"], ["date_of_birth", "1997-05-03"], ["phone", "7991045863"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5407284987"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '318285997' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "318285997"], ["date_of_birth", "2000-05-03"], ["phone", "7811717609"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '151623669' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "151623669"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '097284701' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "097284701"], ["date_of_birth", "1986-05-03"], ["phone", "8455188655"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '350189726' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "350189726"], ["date_of_birth", "1997-05-03"], ["phone", "8912273798"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (store_id = 3)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (store_id = 1)[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (employee_id = 4)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "assignments" WHERE ("assignments"."end_date" IS NOT NULL) AND (employee_id = 2)[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
AssignmentTest: test_: Assignment should have many shifts. 
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should not allow pay_level to be set to -2. 
------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow start_date to be set to Tue, 15 Mar 2016. 
-----------------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------------------------
AssignmentTest: test_: Creating a context for assignments should remove upcoming shifts from an assignment that was ended. 
---------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7141429816"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8616911844"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '282549789' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "282549789"], ["date_of_birth", "1997-05-03"], ["phone", "9693870127"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9523325676"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '247859362' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "247859362"], ["date_of_birth", "2000-05-03"], ["phone", "0093156333"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '369608964' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "369608964"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '373792600' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "373792600"], ["date_of_birth", "1986-05-03"], ["phone", "2234821755"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '126289985' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "126289985"], ["date_of_birth", "1997-05-03"], ["phone", "9002914502"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-05-03"], ["id", 5]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
AssignmentTest: test_: Assignment should allow start_date to be set to Sat, 03 May 2014. 
-----------------------------------------------------------------------------------------
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "bad". 
-------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there are two active stores. 
-----------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2830691944"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0113956651"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
StoreTest: test_: Store should have many assignments. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "(412) 268-3259". 
--------------------------------------------------------------------------
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "800-EAT-FOOD". 
----------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "152134". 
--------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
StoreTest: test_: Store should have many employees through assignments. 
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to 10. 
----------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "WV". 
--------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should fail to identify geocoordinates for a bogus store. 
----------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4809938663"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7580282782"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
StoreTest: test_: Store should require name to be set. 
-------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "PA". 
--------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should make an undestroyed store inactive. 
-------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0313128609"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1083307534"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", "f"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "bad". 
-----------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------
StoreTest: test_: Store should have many shifts through assignments. 
---------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should force stores to have unique names. 
------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5888397615"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3655653036"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------
StoreTest: test_: Store should require zip to be set. 
------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "412-2683-259". 
----------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "412-268-3259". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "1512". 
------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should have a method to identify geocoordinates of a store. 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3000363579"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5073320021"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE ("stores"."name" = 'CMU' AND "stores"."id" != 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "stores" SET "latitude" = ?, "longitude" = ? WHERE "stores"."id" = ?  [["latitude", 40.4434658], ["longitude", -79.9434567], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should show that all factories are properly created. 
-----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9212471168"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8353352849"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "NY". 
------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
StoreTest: test_: Store should not allow state to be set to "CA". 
------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should have many flavors through store_flavors. 
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that Oakland's phone is stripped of non-digits. 
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3992042324"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2715314938"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "2683259". 
-----------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "4122683259". 
----------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "4122683259x224". 
------------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there are three stores in in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6521312524"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9783946045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores"  ORDER BY name
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
StoreTest: test_: Store should require street to be set. 
---------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
StoreTest: test_: Store should allow state to be set to "OH". 
--------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should correctly assess that stores are not destroyable. 
---------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0770800312"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2092489465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stores" SET "active" = ? WHERE "stores"."id" = ?[0m  [["active", "f"], ["id", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should not allow zip to be set to "15213-0983". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should shows that there is one inactive store. 
-----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5910469909"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5713515262"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "f"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  ORDER BY name  [["active", "f"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
StoreTest: test_: Store should allow phone to be set to "412.268.3259". 
------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "14122683259". 
---------------------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
StoreTest: test_: Store should not allow phone to be set to "412/268/3259". 
----------------------------------------------------------------------------
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StoreTest: test_: Store should have many store_flavors. 
--------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
StoreTest: test_: Store should allow zip to be set to "15213". 
---------------------------------------------------------------
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
StoreTest: test_: Creating a context for stores should change the latitude and longitude of a store's record. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8538582760"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0929468819"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE ("stores"."name" = 'CMU' AND "stores"."id" != 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "stores" SET "latitude" = ?, "longitude" = ? WHERE "stores"."id" = ?  [["latitude", 40.4434658], ["longitude", -79.9434567], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered home/about.html.erb within layouts/application (0.3ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
HomeControllerTest: test_should_get_privacy
-------------------------------------------
Processing by HomeController#privacy as HTML
  Rendered home/privacy.html.erb within layouts/application (0.3ms)
  Rendered partials/_nav.html.erb (0.6ms)
  Rendered partials/_flash.html.erb (0.1ms)
  Rendered partials/_footer.html.erb (0.3ms)
Completed 200 OK in 21ms (Views: 21.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
HomeControllerTest: test_should_get_contact
-------------------------------------------
Processing by HomeController#contact as HTML
  Rendered home/contact.html.erb within layouts/application (1.0ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered home/_general_home.html.erb (0.3ms)
  Rendered home/home.html.erb within layouts/application (2.0ms)
  Rendered partials/_nav.html.erb (0.4ms)
  Rendered partials/_flash.html.erb (0.0ms)
  Rendered partials/_footer.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
JobTest: test_: Job should have many shift_jobs. 
-------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should correctly assess when a job is destroyable. 
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '238905948' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238905948"], ["date_of_birth", "1997-05-03"], ["phone", "6371441622"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "0575791248"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '008744152' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "008744152"], ["date_of_birth", "2000-05-03"], ["phone", "7746215939"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '305857746' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "305857746"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '355639698' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "355639698"], ["date_of_birth", "1986-05-03"], ["phone", "2794065278"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '321115846' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "321115846"], ["date_of_birth", "1997-05-03"], ["phone", "7770793582"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5908115684"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1870952557"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.2ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.2ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.2ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShiftJob Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."job_id" = ? LIMIT 1[0m  [["job_id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 9]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 10]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 11]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there are three active jobs. 
-------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mJob Load (0.1ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
JobTest: test_: Job should require name to be set. 
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there are four jobs in in alphabetical order. 
------------------------------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)[0m  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs"  ORDER BY "jobs"."name" ASC[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should shows that there is one inactive job. 
-----------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "jobs" WHERE "jobs"."active" = ?  [["active", "f"]]
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "f"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
JobTest: test_: Creating a context for jobs should make an undestroyable job inactive. 
---------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '126482413' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126482413"], ["date_of_birth", "1997-05-03"], ["phone", "8225154540"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6750724904"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '092340181' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "092340181"], ["date_of_birth", "2000-05-03"], ["phone", "5136287445"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '096788851' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "096788851"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '109799995' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "109799995"], ["date_of_birth", "1986-05-03"], ["phone", "0452461382"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '330725815' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "330725815"], ["date_of_birth", "1997-05-03"], ["phone", "0890067069"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4093429739"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9184479170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.2ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.3ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.2ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')  [["assignment_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 8]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-01"], ["id", 9]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-04-30"], ["id", 10]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?[0m  [["date", "2016-05-02"], ["id", 11]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 9], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 9], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 10], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)[0m  [["shift_id", 10], ["job_id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "shift_jobs" ("shift_id", "job_id") VALUES (?, ?)  [["shift_id", 11], ["job_id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mShiftJob Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "shift_jobs" WHERE "shift_jobs"."job_id" = ? LIMIT 1[0m  [["job_id", 1]]
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "jobs" SET "active" = ? WHERE "jobs"."id" = ?  [["active", "f"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mJob Load (0.1ms)[0m  SELECT  "jobs".* FROM "jobs" WHERE "jobs"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shift_jobs" WHERE "shift_jobs"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------
JobTest: test_: Job should have many shifts through shift_jobs. 
----------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------
ShiftJobTest: test_: ShiftJob should belong to shift. 
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
ShiftJobTest: test_: ShiftJob should require job_id to be set. 
---------------------------------------------------------------
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------------------------------
ShiftJobTest: test_: Creating a context for shift_jobs should identify a non-existent shift as part of an invalid shift_job. 
-----------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.2ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1648560760"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4662719179"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333837511' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "333837511"], ["date_of_birth", "1997-05-03"], ["phone", "5716707305"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1056658492"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '107196468' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "107196468"], ["date_of_birth", "2000-05-03"], ["phone", "4972103824"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '227828786' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "227828786"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '145344124' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "145344124"], ["date_of_birth", "1986-05-03"], ["phone", "5620449615"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '310777754' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "310777754"], ["date_of_birth", "1997-05-03"], ["phone", "2109497333"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.2ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.2ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.0ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.1ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------------------------------------------------------------------
ShiftJobTest: test_: Creating a context for shift_jobs should identify a non-active or non-existent job as part of an invalid shift job. 
-----------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1087786282"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1429490349"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '093605819' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "093605819"], ["date_of_birth", "1997-05-03"], ["phone", "6424118434"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8581568924"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '140162430' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "140162430"], ["date_of_birth", "2000-05-03"], ["phone", "5746384349"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '283408448' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "283408448"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '333578332' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "333578332"], ["date_of_birth", "1986-05-03"], ["phone", "8192056439"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '226850303' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "226850303"], ["date_of_birth", "1997-05-03"], ["phone", "5297828699"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 6], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 6], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 3], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 3], ["date", "2016-05-04"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-03"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)  [["assignment_id", 4], ["date", "2016-05-05"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts" WHERE "shifts"."assignment_id" = ? AND (date >= '2016-05-03')[0m  [["assignment_id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "assignments" SET "end_date" = ? WHERE "assignments"."id" = ?[0m  [["end_date", "2016-04-03"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2016-04-03"], ["pay_level", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 8]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-01"], ["id", 9]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 7], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-04-30"], ["id", 10]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "shifts" ("assignment_id", "date", "start_time", "end_time", "notes") VALUES (?, ?, ?, ?, ?)[0m  [["assignment_id", 5], ["date", "2016-05-10"], ["start_time", "2016-05-03 15:00:00.000000"], ["end_time", "2016-05-03 18:00:00.000000"], ["notes", "This was a great shift and enjoyed by all who chose to partake."]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "shifts" SET "date" = ? WHERE "shifts"."id" = ?  [["date", "2016-05-02"], ["id", 11]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Cashier"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description") VALUES (?, ?)  [["name", "Mopping"], ["description", "Working the cash register"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "jobs" ("name", "description") VALUES (?, ?)[0m  [["name", "Ice cream making"], ["description", "Working the cash register"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "jobs" ("name", "description", "active") VALUES (?, ?, ?)  [["name", "Mover"], ["description", "Working the cash register"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mShift Load (0.1ms)[0m  SELECT "shifts".* FROM "shifts"
  [1m[36mJob Load (0.0ms)[0m  [1mSELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 7]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 9]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "shifts" WHERE "shifts"."id" = ?[0m  [["id", 10]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "shifts" WHERE "shifts"."id" = ?  [["id", 11]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "jobs" WHERE "jobs"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "jobs" WHERE "jobs"."id" = ?  [["id", 4]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
ShiftJobTest: test_: ShiftJob should require shift_id to be set. 
-----------------------------------------------------------------
  [1m[36mShift Load (0.1ms)[0m  [1mSELECT "shifts".* FROM "shifts"[0m
  [1m[35mJob Load (0.0ms)[0m  SELECT "jobs".* FROM "jobs" WHERE "jobs"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
ShiftJobTest: test_: ShiftJob should belong to job. 
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should require store_id to be set. 
-----------------------------------------------------------------------
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.1ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should belong to flavor. 
-------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should belong to store. 
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------------------------------------------------------
StoreFlavorTest: test_: Creating a context for store_flavors should identify a non-active or non-existent store as part of an invalid store flavor. 
----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9684438373"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7927182042"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.1ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------------------------------------------------------------------------
StoreFlavorTest: test_: Creating a context for store_flavors should identify a non-active or non-existent flavor as part of an invalid store flavor. 
-----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5015855293"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7550198148"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Chocolate"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name", "active") VALUES (?, ?)  [["name", "Vanilla"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Strawberry"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Mint Chocolate Chip"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mFlavor Load (0.0ms)[0m  [1mSELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mFlavor Load (0.0ms)[0m  [1mSELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
StoreFlavorTest: test_: StoreFlavor should require flavor_id to be set. 
------------------------------------------------------------------------
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
FlavorTest: test_: Flavor should have many stores through store_flavors. 
-------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should make an undestroyed flavor inactive. 
----------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "flavors" SET "active" = ? WHERE "flavors"."id" = ?  [["active", "f"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFlavor Load (0.1ms)[0m  SELECT  "flavors".* FROM "flavors" WHERE "flavors"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there are three active flavors. 
----------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "t"]]
  [1m[35mFlavor Load (0.0ms)[0m  SELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?  [["active", "t"]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there are four flavors in in alphabetical order. 
---------------------------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Chocolate"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "flavors" ("name", "active") VALUES (?, ?)[0m  [["name", "Vanilla"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Strawberry"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Mint Chocolate Chip"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFlavor Load (0.1ms)[0m  [1mSELECT "flavors".* FROM "flavors"  ORDER BY "flavors"."name" ASC[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
FlavorTest: test_: Flavor should have many store_flavors. 
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should shows that there is one inactive flavor. 
--------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Chocolate"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "flavors" ("name", "active") VALUES (?, ?)  [["name", "Vanilla"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Strawberry"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Mint Chocolate Chip"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "flavors" WHERE "flavors"."active" = ?  [["active", "f"]]
  [1m[36mFlavor Load (0.0ms)[0m  [1mSELECT "flavors".* FROM "flavors" WHERE "flavors"."active" = ?[0m  [["active", "f"]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
FlavorTest: test_: Flavor should require name to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------
FlavorTest: test_: Creating a context for flavors should correctly assess that flavors are not destroyable. 
------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Chocolate"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "flavors" ("name", "active") VALUES (?, ?)  [["name", "Vanilla"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "flavors" ("name") VALUES (?)[0m  [["name", "Strawberry"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "flavors" ("name") VALUES (?)  [["name", "Mint Chocolate Chip"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "flavors" SET "active" = ? WHERE "flavors"."id" = ?[0m  [["active", "f"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "flavors" WHERE "flavors"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "flavors" WHERE "flavors"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
AssignmentsControllerTest: test_should_get_new
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '311183950' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "311183950"], ["date_of_birth", "1997-05-03"], ["phone", "8493125802"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6882194193"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '031371925' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "031371925"], ["date_of_birth", "2000-05-03"], ["phone", "6229317329"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '262118000' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "262118000"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '204861433' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "204861433"], ["date_of_birth", "1986-05-03"], ["phone", "3194389476"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '285517735' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "285517735"], ["date_of_birth", "1997-05-03"], ["phone", "1451650280"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0708524647"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8042138298"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#new as HTML
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------
AssignmentsControllerTest: test_should_destroy_assignment
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '365083782' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "365083782"], ["date_of_birth", "1997-05-03"], ["phone", "5404889051"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2872215840"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '231878560' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "231878560"], ["date_of_birth", "2000-05-03"], ["phone", "9007316181"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '275583937' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "275583937"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '097239168' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "097239168"], ["date_of_birth", "1986-05-03"], ["phone", "0099162836"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '117698938' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "117698938"], ["date_of_birth", "1997-05-03"], ["phone", "6020583162"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3311207089"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStore Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2476464309"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "assignments"[0m
Processing by AssignmentsController#destroy as HTML
  Parameters: {"id"=>"3"}
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
Redirected to 
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------
AssignmentsControllerTest: test_should_create_a_new_assignment
--------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '164655244' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "164655244"], ["date_of_birth", "1997-05-03"], ["phone", "0035108747"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "2058487044"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '120944396' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "120944396"], ["date_of_birth", "2000-05-03"], ["phone", "1890453165"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '387382090' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "387382090"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '329821596' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "329821596"], ["date_of_birth", "1986-05-03"], ["phone", "1653484788"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '039788612' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "039788612"], ["date_of_birth", "1997-05-03"], ["phone", "2326183812"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2836312314"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2861291297"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "assignments"
Processing by AssignmentsController#create as HTML
  Parameters: {"assignment"=>{"employee_id"=>"4", "store_id"=>"1", "start_date"=>"2016-05-03", "pay_level"=>"5"}}
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (9.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
AssignmentsControllerTest: test_should_get_edit
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '245165424' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "245165424"], ["date_of_birth", "1997-05-03"], ["phone", "8851151110"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5571920226"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '099101671' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "099101671"], ["date_of_birth", "2000-05-03"], ["phone", "9738961942"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '230364312' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "230364312"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '183422060' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "183422060"], ["date_of_birth", "1986-05-03"], ["phone", "2374101234"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.2ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '302753814' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "302753814"], ["date_of_birth", "1997-05-03"], ["phone", "9959557972"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3267916522"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5742197413"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1  [["id", 2]]
Redirected to 
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
AssignmentsControllerTest: test_should_update_an_assignment
-----------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '119446867' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "119446867"], ["date_of_birth", "1997-05-03"], ["phone", "6460620137"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7022001040"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '011159309' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "011159309"], ["date_of_birth", "2000-05-03"], ["phone", "1525398476"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '053237242' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "053237242"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '157918606' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "157918606"], ["date_of_birth", "1986-05-03"], ["phone", "3268303066"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '257134336' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "257134336"], ["date_of_birth", "1997-05-03"], ["phone", "0040889417"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1197117285"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3936268210"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#update as HTML
  Parameters: {"assignment"=>{"employee_id"=>"4", "store_id"=>"3", "start_date"=>"2015-11-03", "pay_level"=>"5"}, "id"=>"3"}
  [1m[35mAssignment Load (0.1ms)[0m  SELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT 1  [["id", 3]]
Redirected to 
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 5]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
AssignmentsControllerTest: test_should_get_index
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '320948743' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320948743"], ["date_of_birth", "1997-05-03"], ["phone", "1779298947"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1531517212"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '064522723' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "064522723"], ["date_of_birth", "2000-05-03"], ["phone", "2212058006"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '241169473' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "241169473"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '104028340' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "104028340"], ["date_of_birth", "1986-05-03"], ["phone", "3735341017"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '032381217' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "032381217"], ["date_of_birth", "1997-05-03"], ["phone", "6898552594"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0424671984"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1505098691"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.9ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.1ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.1ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.1ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by AssignmentsController#index as HTML
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "stores" WHERE "stores"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "stores" WHERE "stores"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "assignments" WHERE "assignments"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
EmployeesControllerTest: test_should_create_a_new_employee
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '090401932' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "090401932"], ["date_of_birth", "1997-05-03"], ["phone", "1527138552"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "1345216284"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '278032910' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "278032910"], ["date_of_birth", "2000-05-03"], ["phone", "7736325406"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '319058101' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "319058101"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '224415204' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "224415204"], ["date_of_birth", "1986-05-03"], ["phone", "9269436962"], ["role", "manager"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '121620297' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "121620297"], ["date_of_birth", "1997-05-03"], ["phone", "7087580768"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees"
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"active"=>true, "first_name"=>"Jake", "last_name"=>"Sisko", "role"=>"employee", "ssn"=>"010101010", "date_of_birth"=>"1997-05-03"}}
Redirected to 
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
EmployeesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '297940609' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "297940609"], ["date_of_birth", "1997-05-03"], ["phone", "8789247856"], ["role", "employee"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "7290433554"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '093621807' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "093621807"], ["date_of_birth", "2000-05-03"], ["phone", "6685470123"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '024431903' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "024431903"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '346237148' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "346237148"], ["date_of_birth", "1986-05-03"], ["phone", "4077654402"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '088985786' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "088985786"], ["date_of_birth", "1997-05-03"], ["phone", "8236229297"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by EmployeesController#index as HTML
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
EmployeesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '373142014' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "373142014"], ["date_of_birth", "1997-05-03"], ["phone", "9722392319"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "5685327568"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '357005741' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "357005741"], ["date_of_birth", "2000-05-03"], ["phone", "2281522202"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '149377779' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "149377779"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '183065790' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "183065790"], ["date_of_birth", "1986-05-03"], ["phone", "2940831699"], ["role", "manager"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '146701132' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "146701132"], ["date_of_birth", "1997-05-03"], ["phone", "2293400686"], ["role", "admin"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by EmployeesController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
Redirected to 
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
EmployeesControllerTest: test_should_get_new
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '146954892' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "146954892"], ["date_of_birth", "1997-05-03"], ["phone", "1697701697"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "9640031556"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '309516270' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "309516270"], ["date_of_birth", "2000-05-03"], ["phone", "1856458062"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '237440558' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "237440558"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '356291225' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "356291225"], ["date_of_birth", "1986-05-03"], ["phone", "6478299203"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '347880067' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "347880067"], ["date_of_birth", "1997-05-03"], ["phone", "3160393153"], ["role", "admin"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#new as HTML
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
EmployeesControllerTest: test_should_destroy_employee
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '241603196' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241603196"], ["date_of_birth", "1997-05-03"], ["phone", "4369774721"], ["role", "employee"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "6930115438"], ["role", "employee"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '064282398' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "064282398"], ["date_of_birth", "2000-05-03"], ["phone", "9480627294"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '293233119' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "293233119"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '036077773' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "036077773"], ["date_of_birth", "1986-05-03"], ["phone", "5652620780"], ["role", "manager"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '345388825' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "345388825"], ["date_of_birth", "1997-05-03"], ["phone", "0516543935"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "employees"
Processing by EmployeesController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
Redirected to 
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 5]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
EmployeesControllerTest: test_should_update_an_employee
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '225826957' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "225826957"], ["date_of_birth", "1997-05-03"], ["phone", "2057029388"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8978614452"], ["role", "employee"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '023631452' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "023631452"], ["date_of_birth", "2000-05-03"], ["phone", "1585491827"], ["role", "employee"], ["active", "f"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '183260423' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "183260423"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '079311113' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "079311113"], ["date_of_birth", "1986-05-03"], ["phone", "6016976433"], ["role", "manager"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '231455859' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "231455859"], ["date_of_birth", "1997-05-03"], ["phone", "8801780896"], ["role", "admin"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#update as HTML
  Parameters: {"employee"=>{"active"=>true, "first_name"=>"Ben", "last_name"=>"Sisko", "role"=>"manager", "ssn"=>"183260423", "date_of_birth"=>"1967-05-03"}, "id"=>"4"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
EmployeesControllerTest: test_should_show_employee_and_assingment_history
-------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '060995413' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "060995413"], ["date_of_birth", "1997-05-03"], ["phone", "1293531833"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '084359822' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Cindy"], ["last_name", "Crawford"], ["ssn", "084359822"], ["date_of_birth", "1999-05-03"], ["phone", "8974115762"], ["role", "employee"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.3ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '332719390' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ralph"], ["last_name", "Wilson"], ["ssn", "332719390"], ["date_of_birth", "2000-05-03"], ["phone", "4266127058"], ["role", "employee"], ["active", "f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '367323226' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ben"], ["last_name", "Sisko"], ["ssn", "367323226"], ["date_of_birth", "1997-05-03"], ["phone", "4122682323"], ["role", "manager"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '293992723' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Kathryn"], ["last_name", "Janeway"], ["ssn", "293992723"], ["date_of_birth", "1986-05-03"], ["phone", "0630906051"], ["role", "manager"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Exists (0.1ms)[0m  SELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = '326807846' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role") VALUES (?, ?, ?, ?, ?, ?)[0m  [["first_name", "Alex"], ["last_name", "Heimann"], ["ssn", "326807846"], ["date_of_birth", "1997-05-03"], ["phone", "5375730024"], ["role", "admin"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Oakland' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Oakland"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4122688211"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'Hazelwood' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Hazelwood"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7383237062"], ["active", "f"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStore Exists (0.1ms)[0m  SELECT  1 AS one FROM "stores" WHERE "stores"."name" = 'CMU' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0259705152"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)  [["store_id", 3], ["employee_id", 1], ["start_date", "2015-05-03"], ["end_date", "2016-04-03"], ["pay_level", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "end_date", "pay_level") VALUES (?, ?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 4], ["start_date", "2014-05-03"], ["end_date", "2015-11-03"], ["pay_level", 3]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mAssignment Load (0.1ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 4]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 3], ["employee_id", 4], ["start_date", "2015-11-03"], ["pay_level", 4]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mEmployee Load (0.1ms)[0m  [1mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", "t"]]
  [1m[35mStore Load (0.0ms)[0m  SELECT "stores".* FROM "stores" WHERE "stores"."active" = ?  [["active", "t"]]
  [1m[36mEmployee Load (0.0ms)[0m  [1mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mAssignment Load (0.0ms)[0m  SELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?  [["employee_id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)[0m  [["store_id", 3], ["employee_id", 2], ["start_date", "2015-03-03"], ["pay_level", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEmployee Load (0.1ms)[0m  SELECT "employees".* FROM "employees" WHERE "employees"."active" = ?  [["active", "t"]]
  [1m[36mStore Load (0.0ms)[0m  [1mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", "t"]]
  [1m[35mEmployee Load (0.0ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mAssignment Load (0.0ms)[0m  [1mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 5]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_level") VALUES (?, ?, ?, ?)  [["store_id", 1], ["employee_id", 5], ["start_date", "2015-07-03"], ["pay_level", 3]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mEmployee Load (0.1ms)[0m  SELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT 1  [["id", 4]]
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 4]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "employees" WHERE "employees"."id" = ?  [["id", 6]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
